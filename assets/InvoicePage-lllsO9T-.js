import{r as m,d as Me,O as V,y as Z,i as Pe,I as Re,p as j,w as n,e as r,a as o,c as d,F as h,n as k,u as l,g as u,j as I,t as c,o as i,k as Te,q as fe,z as Ve,Q as je}from"./index-QFOTd2Kd.js";import{_ as ze}from"./PageContainer.vue_vue_type_script_setup_true_lang-GXGA1i54.js";import{_ as qe}from"./AreaCard.vue_vue_type_script_setup_true_lang-DGxXCWui.js";import{_ as x}from"./index-DyuDFaNz.js";import{_ as E,a as pe,b as ge,c as G,d as w,e as _e,f as $,g as Ae}from"./Label.vue_vue_type_script_setup_true_lang-B0N-YRJT.js";import{a as Be,b as Fe,c as We,d as Ye,_ as Qe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-qn4srsHV.js";import{_ as H}from"./Checkbox.vue_vue_type_script_setup_true_lang-DlPW7fLP.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-BIaepkwK.js";import{_ as Xe,a as Ze,b as Ge,c as He,d as Je}from"./SelectValue.vue_vue_type_script_setup_true_lang-g0p8pOR1.js";import{m as M}from"./materialOrder-MJqEox1k.js";import{r as Ke}from"./reference-DUJ_1zin.js";import"./Collection-CGcyK3yj.js";import"./index-CxEO5tYI.js";import"./utils-D_xcrhet.js";import"./DialogTitle-Bl2mC9UQ.js";import"./createLucideIcon-fWNHlsiP.js";import"./x-6HjwjOXz.js";import"./apiClient-Cyhc7A6k.js";function et(){const K=m([]),L=m(!1);async function ee(){L.value=!0;try{const U=await M.getMaterialOrderList();K.value=U.sort((D,O)=>new Date(O.createdAt).getTime()-new Date(D.createdAt).getTime())}catch(U){console.error("발주서 목록 로드 실패:",U);const D=U;alert(D.response?.data?.message||D.message)}finally{L.value=!1}}return{orders:K,isLoading:L,loadOrders:ee}}const tt={key:0,class:"text-sm text-muted-foreground text-center py-8"},at={key:1,class:"flex items-center justify-center py-16 border border-dashed border-border rounded-lg"},lt={key:2,class:"space-y-4"},st={class:"flex items-center gap-3 px-4 py-3 bg-muted/30"},rt={class:"text-sm font-medium"},nt={class:"text-xs text-muted-foreground"},ot={class:"text-sm font-medium bg-muted/30 border border-foreground px-2 py-0.5 rounded"},it={class:"flex items-center gap-2 ml-auto"},ut={key:0,class:"overflow-x-auto"},dt={key:0,class:"text-sm text-muted-foreground text-center py-8"},ct={key:1,class:"flex items-center justify-center py-16 border border-dashed border-border rounded-lg"},mt={key:2,class:"space-y-4"},ft={class:"flex items-center gap-3 px-4 py-3 bg-muted/30"},vt={class:"text-sm font-medium"},pt={class:"text-sm text-muted-foreground"},gt={class:"text-sm text-muted-foreground"},_t={class:"ml-auto"},xt={key:0,class:"p-4"},yt={key:0,class:"text-sm text-muted-foreground text-center py-8"},bt={key:1,class:"flex gap-4",style:{"min-height":"400px"}},ht={class:"w-1/2 flex flex-col gap-2 min-h-0"},Dt={key:0,class:"flex-1 flex items-center justify-center border border-border rounded-lg bg-muted/20"},kt=["onWheel","onPointerdown","onPointermove","onPointerup","onPointercancel"],It=["src"],wt={class:"absolute bottom-2 right-2 flex items-center gap-1 bg-background/80 rounded-md border border-border px-1.5 py-0.5"},$t={class:"text-xs text-muted-foreground min-w-[3ch] text-center"},Ct={key:0,class:"flex items-center justify-center gap-3 shrink-0"},Et={class:"text-sm text-muted-foreground"},Lt={key:2,class:"flex-1 flex items-center justify-center border border-border rounded-lg bg-muted/20"},Ut={class:"w-1/2 space-y-4 overflow-y-auto"},Ot={class:"grid grid-cols-2 gap-4"},St={class:"space-y-1.5"},Nt={class:"space-y-1.5"},Mt={class:"overflow-x-auto border border-border rounded-lg"},Pt={class:"flex items-center gap-1.5"},Rt={key:0,class:"shrink-0 text-green-600 dark:text-green-400 text-xs font-medium",title:"규격 검증 성공"},Tt={key:1,class:"shrink-0 text-yellow-600 dark:text-yellow-400 text-xs font-medium",title:"규격 검증 실패"},Vt={class:"flex items-center gap-1"},jt={class:"text-sm text-muted-foreground shrink-0"},zt={class:"flex justify-end"},qt={class:"space-y-5 py-2"},At={class:"space-y-2"},Bt={class:"space-y-2"},Ft={key:0,class:"space-y-2"},Wt={class:"flex flex-wrap gap-3"},Yt=["for"],Qt={key:1,class:"space-y-2"},Xt={class:"flex flex-wrap gap-3"},Zt=["for"],Gt={key:2,class:"space-y-2"},Ht={class:"flex flex-wrap gap-3"},Jt=["for"],Kt={key:3,class:"space-y-2"},ea={class:"flex flex-wrap gap-3"},ta=["for"],aa={class:"flex gap-2"},la={key:0,class:"text-sm text-muted-foreground"},Da=Me({__name:"InvoicePage",setup(K){const{orders:L,isLoading:ee,loadOrders:U}=et(),D=V({}),O=m(!1),y=m(null),te=m([]),ae=m([]),z=m([]),q=m([]),A=m([]),B=m([]),P=m(!1),le=m([]),se=m(!1),S=V({}),R=m({}),C=m({}),re=m({}),F=m({}),T=m([]),p=m({}),b=m({}),ne=m({}),f=m({}),g=V({}),N=m({}),W=V({}),Y=V({}),oe=Z(()=>{if(!y.value)return[];const a=new Map;return y.value.orderLines.forEach(e=>{e.zoneId!=null&&e.zoneName&&a.set(e.zoneId,e.zoneName)}),Array.from(a,([e,t])=>({id:e,name:t}))}),ie=Z(()=>{if(!y.value)return[];const a=new Map;return y.value.orderLines.forEach(e=>{e.floorId!=null&&e.floorName&&a.set(e.floorId,e.floorName)}),Array.from(a,([e,t])=>({id:e,name:t}))}),ue=Z(()=>{if(!y.value)return[];const a=new Map;return y.value.orderLines.forEach(e=>{e.sectionId!=null&&e.sectionName&&a.set(e.sectionId,e.sectionName)}),Array.from(a,([e,t])=>({id:e,name:t}))}),de=Z(()=>{if(!y.value)return[];const a=new Map;return y.value.orderLines.forEach(e=>{e.usageId!=null&&e.usageName&&a.set(e.usageId,e.usageName)}),Array.from(a,([e,t])=>({id:e,name:t}))});function xe(a){D[a]=!D[a]}async function ye(a){y.value=a,te.value=[],ae.value=[],await je(),z.value=oe.value.map(e=>e.id),q.value=ie.value.map(e=>e.id),A.value=ue.value.map(e=>e.id),B.value=de.value.map(e=>e.id),O.value=!0}function be(a){const e=a.target;te.value=e.files?Array.from(e.files):[]}function he(a){const e=a.target;ae.value=e.files?Array.from(e.files):[]}function Q(a,e){const t=a.indexOf(e);t===-1?a.push(e):a.splice(t,1)}async function De(){if(y.value){P.value=!0;try{await M.createMaterialDelivery(y.value.id,te.value,ae.value,z.value,q.value,A.value,B.value),O.value=!1,U(),me()}catch(a){console.error("송장입력 실패:",a);const e=a;alert(e.response?.data?.message||e.message)}finally{P.value=!1}}}async function ke(a){const e=a.materialDeliveryId;if(S[e]){S[e]=!1,p.value[e]?.forEach(t=>URL.revokeObjectURL(t)),delete R.value[e],delete C.value[e],delete p.value[e],delete b.value[e],delete f.value[e],delete g[e],delete N.value[e],delete W[e],delete Y[e];return}S[e]=!0,re.value[e]=!0;try{const t=await M.getMaterialDeliveryLineList(e);if(R.value[e]=t,C.value[e]={supplier:a.supplier,deliveryDate:a.deliveryDate},b.value[e]=0,f.value[e]=1,g[e]={x:0,y:0},N.value[e]=!1,W[e]={x:0,y:0},Y[e]={x:0,y:0},T.value.length===0){const s=L.value.find(v=>v.id===a.materialOrderId);if(s?.materialTypeId)try{T.value=await Ke.getMaterialSpecList(s.materialTypeId)}catch{T.value=[]}}if(a.noteUrls.length>0){ne.value[e]=!0;try{const s=await Promise.all(a.noteUrls.map(v=>M.getDeliveryNoteImage(v)));p.value[e]=s}catch(s){console.error("송장 이미지 로드 실패:",s),p.value[e]=[]}finally{ne.value[e]=!1}}}catch(t){console.error("반입자재 라인 로드 실패:",t);const s=t;alert(s.response?.data?.message||s.message),S[e]=!1}finally{re.value[e]=!1}}function ce(a){f.value[a]=1,g[a]&&(g[a].x=0,g[a].y=0)}function Ie(a,e){e.preventDefault();const t=e.deltaY>0?-.1:.1,s=f.value[a]??1;f.value[a]=Math.min(5,Math.max(.5,s+t))}function we(a,e){if((f.value[a]??1)<=1)return;N.value[a]=!0,W[a]={x:e.clientX,y:e.clientY};const s=g[a]??{x:0,y:0};Y[a]={x:s.x,y:s.y},e.target.setPointerCapture(e.pointerId)}function $e(a,e){if(!N.value[a])return;const t=W[a],s=Y[a];t&&s&&g[a]&&(g[a].x=s.x+(e.clientX-t.x),g[a].y=s.y+(e.clientY-t.y))}function ve(a){N.value[a]=!1}function Ce(a){const e=b.value[a]??0;e>0&&(b.value[a]=e-1,ce(a))}function Ee(a){const e=p.value[a]??[],t=b.value[a]??0;t<e.length-1&&(b.value[a]=t+1,ce(a))}async function Le(a){const e=a.materialDeliveryId,t=C.value[e],s=R.value[e];if(!(!t||!s)){F.value[e]=!0;try{await M.updateMaterialDelivery(e,{supplier:t.supplier,deliveryDate:t.deliveryDate,deliveryLines:s.map(v=>({deliveryLineId:v.deliveryLineId,manufacturer:v.manufacturer,specId:v.materialSpecId,quantity:String(v.quantity)}))}),S[e]=!1,p.value[e]?.forEach(v=>URL.revokeObjectURL(v)),delete R.value[e],delete C.value[e],delete p.value[e],delete b.value[e],delete f.value[e],delete g[e],me()}catch(v){console.error("반입자재 수정 실패:",v);const _=v;alert(_.response?.data?.message||_.message)}finally{F.value[e]=!1}}}async function me(){se.value=!0;try{le.value=await M.getMaterialDeliveryList()}catch(a){console.error("반입자재 목록 로딩 실패:",a);const e=a;alert(e.response?.data?.message||e.message)}finally{se.value=!1}}Pe(()=>{U(),me()}),Re(()=>{Object.values(p.value).forEach(a=>{a.forEach(e=>URL.revokeObjectURL(e))})});function Ue(a){switch(a){case"BEFORE_ORDER":return"발주전";case"ORDER_COMPLETED":return"발주완료";case"RECEIPT_COMPLETED":return"반입완료";default:return a}}function Oe(a){switch(a){case"BEFORE_ORDER":return"bg-red-500 text-white hover:bg-red-500/80";case"ORDER_COMPLETED":return"bg-green-500 text-white hover:bg-green-500/80";case"RECEIPT_COMPLETED":return"bg-blue-500 text-white hover:bg-blue-500/80";default:return"bg-muted text-muted-foreground"}}function Se(a){const e=[a.zoneName,a.floorName,a.sectionName,a.usageName].filter(Boolean);return e.length>0?e.join(" "):"-"}return(a,e)=>(i(),j(ze,{title:"자재관리"},{default:n(()=>[r(qe,{height:"flex-1","min-height":"1100px","has-tabs":!0,tabs:[{value:"order",label:"자재 발주서"},{value:"incoming",label:"반입 자재"},{value:"outgoing",label:"반출 자재"},{value:"remaining",label:"잔여 자재"}],"default-tab":"order"},{"tab-order":n(()=>[l(ee)?(i(),d("div",tt," 발주서 목록 로딩 중... ")):l(L).length===0?(i(),d("div",at,[...e[2]||(e[2]=[o("p",{class:"text-muted-foreground"}," 발주서가 없습니다. 3D 공정표에서 부재를 선택하여 발주서를 생성하세요. ",-1)])])):(i(),d("div",lt,[(i(!0),d(h,null,k(l(L),t=>(i(),d("div",{key:t.id,class:"border border-border rounded-lg overflow-hidden"},[o("div",st,[r(l(Ae),{class:fe(["text-sm px-3 py-1",Oe(t.orderStatus)])},{default:n(()=>[u(c(Ue(t.orderStatus)),1)]),_:2},1032,["class"]),o("span",rt,c(t.orderNo),1),o("span",nt,c(t.workTypeName),1),o("span",ot,c(t.totalQuantity)+" "+c(t.unit),1),o("div",it,[r(l(x),{variant:"outline",size:"sm",disabled:t.orderStatus==="ORDER_COMPLETED"||t.orderStatus==="RECEIPT_COMPLETED"},{default:n(()=>[...e[3]||(e[3]=[u(" 발주하기 ",-1)])]),_:1},8,["disabled"]),r(l(x),{variant:"outline",size:"sm",disabled:t.orderStatus!=="ORDER_COMPLETED",onClick:s=>ye(t)},{default:n(()=>[...e[4]||(e[4]=[u(" 송장입력 ",-1)])]),_:1},8,["disabled","onClick"]),r(l(x),{variant:"ghost",size:"sm",onClick:s=>xe(t.id)},{default:n(()=>[u(c(D[t.id]?"접기 ▲":"펼치기 ▼"),1)]),_:2},1032,["onClick"])])]),D[t.id]?(i(),d("div",ut,[r(l(pe),null,{default:n(()=>[r(l(ge),null,{default:n(()=>[r(l(G),null,{default:n(()=>[r(l(w),null,{default:n(()=>[...e[5]||(e[5]=[u("오브젝트",-1)])]),_:1}),r(l(w),null,{default:n(()=>[...e[6]||(e[6]=[u("자재규격",-1)])]),_:1}),r(l(w),null,{default:n(()=>[...e[7]||(e[7]=[u("부재코드",-1)])]),_:1}),r(l(w),null,{default:n(()=>[...e[8]||(e[8]=[u("세부작업",-1)])]),_:1}),r(l(w),null,{default:n(()=>[...e[9]||(e[9]=[u("위치",-1)])]),_:1}),r(l(w),{class:"text-right"},{default:n(()=>[...e[10]||(e[10]=[u("수량",-1)])]),_:1})]),_:1})]),_:1}),r(l(_e),null,{default:n(()=>[(i(!0),d(h,null,k(t.orderLines,s=>(i(),j(l(G),{key:s.id},{default:n(()=>[r(l($),{class:"text-sm"},{default:n(()=>[u(c(s.object3dId??"-"),1)]),_:2},1024),r(l($),{class:"text-sm"},{default:n(()=>[u(c(s.materialSpecName),1)]),_:2},1024),r(l($),{class:"text-sm"},{default:n(()=>[u(c(s.componentCodeName??"-"),1)]),_:2},1024),r(l($),{class:"text-sm"},{default:n(()=>[u(c(s.workStepName??"-"),1)]),_:2},1024),r(l($),{class:"text-sm"},{default:n(()=>[u(c(Se(s)),1)]),_:2},1024),r(l($),{class:"text-sm text-right"},{default:n(()=>[u(c(s.quantity),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)])):I("",!0)]))),128))]))]),"tab-incoming":n(()=>[se.value?(i(),d("div",dt," 반입자재 목록 로딩 중... ")):le.value.length===0?(i(),d("div",ct,[...e[11]||(e[11]=[o("p",{class:"text-muted-foreground"},"반입된 자재가 없습니다.",-1)])])):(i(),d("div",mt,[(i(!0),d(h,null,k(le.value,t=>(i(),d("div",{key:t.materialDeliveryId,class:"border border-border rounded-lg overflow-hidden"},[o("div",ft,[o("span",vt,c(t.materialOrderNumber),1),o("span",pt,c(t.supplier),1),o("span",gt,c(t.deliveryDate),1),o("div",_t,[r(l(x),{variant:"ghost",size:"sm",onClick:s=>ke(t)},{default:n(()=>[u(c(S[t.materialDeliveryId]?"접기 ▲":"펼치기 ▼"),1)]),_:2},1032,["onClick"])])]),S[t.materialDeliveryId]?(i(),d("div",xt,[re.value[t.materialDeliveryId]?(i(),d("div",yt," 라인 정보 로딩 중... ")):(i(),d("div",bt,[o("div",ht,[ne.value[t.materialDeliveryId]?(i(),d("div",Dt,[...e[12]||(e[12]=[o("p",{class:"text-sm text-muted-foreground"},"이미지 로딩 중...",-1)])])):(p.value[t.materialDeliveryId]??[]).length>0?(i(),d(h,{key:1},[o("div",{class:fe(["flex-1 min-h-0 border border-border rounded-lg overflow-hidden bg-muted/20 relative",{"cursor-grab":(f.value[t.materialDeliveryId]??1)>1,"cursor-grabbing":N.value[t.materialDeliveryId]}]),onWheel:Te(s=>Ie(t.materialDeliveryId,s),["prevent"]),onPointerdown:s=>we(t.materialDeliveryId,s),onPointermove:s=>$e(t.materialDeliveryId,s),onPointerup:s=>ve(t.materialDeliveryId),onPointercancel:s=>ve(t.materialDeliveryId)},[o("img",{src:p.value[t.materialDeliveryId]?.[b.value[t.materialDeliveryId]??0],alt:"송장 이미지",class:"w-full h-full object-contain select-none",draggable:"false",style:Ve({transform:`translate(${g[t.materialDeliveryId]?.x??0}px, ${g[t.materialDeliveryId]?.y??0}px) scale(${f.value[t.materialDeliveryId]??1})`,transformOrigin:"center center",transition:N.value[t.materialDeliveryId]?"none":"transform 0.15s ease"})},null,12,It),o("div",wt,[r(l(x),{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onClick:s=>f.value[t.materialDeliveryId]=Math.max(.5,(f.value[t.materialDeliveryId]??1)-.25)},{default:n(()=>[...e[13]||(e[13]=[u("−",-1)])]),_:1},8,["onClick"]),o("span",$t,c(Math.round((f.value[t.materialDeliveryId]??1)*100))+"%",1),r(l(x),{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onClick:s=>f.value[t.materialDeliveryId]=Math.min(5,(f.value[t.materialDeliveryId]??1)+.25)},{default:n(()=>[...e[14]||(e[14]=[u("+",-1)])]),_:1},8,["onClick"]),(f.value[t.materialDeliveryId]??1)!==1?(i(),j(l(x),{key:0,variant:"ghost",size:"sm",class:"h-6 px-1 text-xs",onClick:s=>ce(t.materialDeliveryId)},{default:n(()=>[...e[15]||(e[15]=[u("초기화",-1)])]),_:1},8,["onClick"])):I("",!0)])],42,kt),(p.value[t.materialDeliveryId]??[]).length>1?(i(),d("div",Ct,[r(l(x),{variant:"outline",size:"sm",disabled:(b.value[t.materialDeliveryId]??0)===0,onClick:s=>Ce(t.materialDeliveryId)},{default:n(()=>[...e[16]||(e[16]=[u(" ← 이전 ",-1)])]),_:1},8,["disabled","onClick"]),o("span",Et,c((b.value[t.materialDeliveryId]??0)+1)+" / "+c((p.value[t.materialDeliveryId]??[]).length),1),r(l(x),{variant:"outline",size:"sm",disabled:(b.value[t.materialDeliveryId]??0)===(p.value[t.materialDeliveryId]??[]).length-1,onClick:s=>Ee(t.materialDeliveryId)},{default:n(()=>[...e[17]||(e[17]=[u(" 다음 → ",-1)])]),_:1},8,["disabled","onClick"])])):I("",!0)],64)):(i(),d("div",Lt,[...e[18]||(e[18]=[o("p",{class:"text-sm text-muted-foreground"},"이미지가 없습니다",-1)])]))]),o("div",Ut,[o("div",Ot,[o("div",St,[r(l(E),null,{default:n(()=>[...e[19]||(e[19]=[u("공급업체",-1)])]),_:1}),r(l(J),{modelValue:C.value[t.materialDeliveryId].supplier,"onUpdate:modelValue":s=>C.value[t.materialDeliveryId].supplier=s},null,8,["modelValue","onUpdate:modelValue"])]),o("div",Nt,[r(l(E),null,{default:n(()=>[...e[20]||(e[20]=[u("납품일",-1)])]),_:1}),r(l(J),{modelValue:C.value[t.materialDeliveryId].deliveryDate,"onUpdate:modelValue":s=>C.value[t.materialDeliveryId].deliveryDate=s,type:"date"},null,8,["modelValue","onUpdate:modelValue"])])]),o("div",Mt,[r(l(pe),null,{default:n(()=>[r(l(ge),null,{default:n(()=>[r(l(G),null,{default:n(()=>[r(l(w),null,{default:n(()=>[...e[21]||(e[21]=[u("제조사",-1)])]),_:1}),r(l(w),null,{default:n(()=>[...e[22]||(e[22]=[u("규격",-1)])]),_:1}),r(l(w),{class:"w-[200px] text-right"},{default:n(()=>[...e[23]||(e[23]=[u("수량",-1)])]),_:1})]),_:1})]),_:1}),r(l(_e),null,{default:n(()=>[(i(!0),d(h,null,k(R.value[t.materialDeliveryId],(s,v)=>(i(),j(l(G),{key:s.deliveryLineId??v,class:fe({"bg-yellow-50 dark:bg-yellow-950/30":!s.specValidation})},{default:n(()=>[r(l($),null,{default:n(()=>[r(l(J),{"model-value":s.manufacturer??"",class:"h-8 text-sm","onUpdate:modelValue":_=>s.manufacturer=_||null},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),r(l($),null,{default:n(()=>[o("div",Pt,[r(l(Xe),{"model-value":s.materialSpecId!=null?String(s.materialSpecId):"","onUpdate:modelValue":_=>{const X=T.value.find(Ne=>Ne.id===Number(_));s.materialSpecId=X?X.id:null,s.materialSpecName=X?X.name:null}},{default:n(()=>[r(l(Ze),{class:"h-8 text-sm"},{default:n(()=>[r(l(Ge),{placeholder:"규격 선택"})]),_:1}),r(l(He),null,{default:n(()=>[(i(!0),d(h,null,k(T.value,_=>(i(),j(l(Je),{key:_.id,value:String(_.id)},{default:n(()=>[u(c(_.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"]),s.specValidation?(i(),d("span",Rt," ✅ ")):(i(),d("span",Tt," ⚠️ "))])]),_:2},1024),r(l($),null,{default:n(()=>[o("div",Vt,[r(l(J),{"model-value":String(s.quantity),class:"h-8 text-sm text-right","onUpdate:modelValue":_=>s.quantity=Number(_)||0},null,8,["model-value","onUpdate:modelValue"]),o("span",jt,c(t.unit),1)])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:2},1024)]),_:2},1024)]),o("div",zt,[r(l(x),{disabled:F.value[t.materialDeliveryId],onClick:s=>Le(t)},{default:n(()=>[u(c(F.value[t.materialDeliveryId]?"저장 중...":"수정하기"),1)]),_:2},1032,["disabled","onClick"])])])]))])):I("",!0)]))),128))]))]),"tab-outgoing":n(()=>[...e[24]||(e[24]=[o("div",{class:"flex-1 flex items-center justify-center border border-dashed border-border rounded-lg"},[o("p",{class:"text-muted-foreground"},"반출 자재 (구현 예정)")],-1)])]),"tab-remaining":n(()=>[...e[25]||(e[25]=[o("div",{class:"flex-1 flex items-center justify-center border border-dashed border-border rounded-lg"},[o("p",{class:"text-muted-foreground"},"잔여 자재 (구현 예정)")],-1)])]),_:1}),r(l(Qe),{open:O.value,"onUpdate:open":e[1]||(e[1]=t=>O.value=t)},{default:n(()=>[r(l(Be),{class:"sm:max-w-[520px]"},{default:n(()=>[r(l(Fe),null,{default:n(()=>[r(l(We),null,{default:n(()=>[...e[26]||(e[26]=[u("송장입력",-1)])]),_:1})]),_:1}),o("div",qt,[o("div",At,[r(l(E),null,{default:n(()=>[...e[27]||(e[27]=[u("송장파일",-1)])]),_:1}),o("input",{type:"file",multiple:"",accept:".pdf,.png,.jpg,.jpeg",class:"block w-full text-sm text-foreground file:mr-3 file:py-1.5 file:px-3 file:rounded file:border file:border-input file:bg-muted file:text-sm file:font-medium hover:file:bg-muted/80 cursor-pointer",onChange:be},null,32)]),o("div",Bt,[r(l(E),null,{default:n(()=>[...e[28]||(e[28]=[u("반입사진",-1)])]),_:1}),o("input",{type:"file",multiple:"",accept:"image/*",class:"block w-full text-sm text-foreground file:mr-3 file:py-1.5 file:px-3 file:rounded file:border file:border-input file:bg-muted file:text-sm file:font-medium hover:file:bg-muted/80 cursor-pointer",onChange:he},null,32)]),oe.value.length>0?(i(),d("div",Ft,[r(l(E),null,{default:n(()=>[...e[29]||(e[29]=[u("존",-1)])]),_:1}),o("div",Wt,[(i(!0),d(h,null,k(oe.value,t=>(i(),d("div",{key:t.id,class:"flex items-center gap-1.5"},[r(l(H),{id:`zone-${t.id}`,checked:z.value.includes(t.id),"onUpdate:checked":s=>Q(z.value,t.id)},null,8,["id","checked","onUpdate:checked"]),o("label",{for:`zone-${t.id}`,class:"text-sm cursor-pointer"},c(t.name),9,Yt)]))),128))])])):I("",!0),ie.value.length>0?(i(),d("div",Qt,[r(l(E),null,{default:n(()=>[...e[30]||(e[30]=[u("층",-1)])]),_:1}),o("div",Xt,[(i(!0),d(h,null,k(ie.value,t=>(i(),d("div",{key:t.id,class:"flex items-center gap-1.5"},[r(l(H),{id:`floor-${t.id}`,checked:q.value.includes(t.id),"onUpdate:checked":s=>Q(q.value,t.id)},null,8,["id","checked","onUpdate:checked"]),o("label",{for:`floor-${t.id}`,class:"text-sm cursor-pointer"},c(t.name),9,Zt)]))),128))])])):I("",!0),ue.value.length>0?(i(),d("div",Gt,[r(l(E),null,{default:n(()=>[...e[31]||(e[31]=[u("구역",-1)])]),_:1}),o("div",Ht,[(i(!0),d(h,null,k(ue.value,t=>(i(),d("div",{key:t.id,class:"flex items-center gap-1.5"},[r(l(H),{id:`section-${t.id}`,checked:A.value.includes(t.id),"onUpdate:checked":s=>Q(A.value,t.id)},null,8,["id","checked","onUpdate:checked"]),o("label",{for:`section-${t.id}`,class:"text-sm cursor-pointer"},c(t.name),9,Jt)]))),128))])])):I("",!0),de.value.length>0?(i(),d("div",Kt,[r(l(E),null,{default:n(()=>[...e[32]||(e[32]=[u("용도",-1)])]),_:1}),o("div",ea,[(i(!0),d(h,null,k(de.value,t=>(i(),d("div",{key:t.id,class:"flex items-center gap-1.5"},[r(l(H),{id:`usage-${t.id}`,checked:B.value.includes(t.id),"onUpdate:checked":s=>Q(B.value,t.id)},null,8,["id","checked","onUpdate:checked"]),o("label",{for:`usage-${t.id}`,class:"text-sm cursor-pointer"},c(t.name),9,ta)]))),128))])])):I("",!0)]),r(l(Ye),{class:"flex-col items-end gap-2"},{default:n(()=>[o("div",aa,[r(l(x),{variant:"outline",onClick:e[0]||(e[0]=t=>O.value=!1)},{default:n(()=>[...e[33]||(e[33]=[u("취소",-1)])]),_:1}),r(l(x),{disabled:P.value,onClick:De},{default:n(()=>[u(c(P.value?"저장 중...":"저장"),1)]),_:1},8,["disabled"])]),P.value?(i(),d("p",la," 시간이 좀 걸립니다. 기다려주세요. ")):I("",!0)]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Da as default};
