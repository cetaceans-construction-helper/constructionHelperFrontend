import{t as g,w as O,i as M,a as P,b as S}from"./index-C7zGTSkS.js";import{r as T,D as y,y as N,a0 as p,P as C,u as D,M as J}from"./index-CJnPFP6M.js";const L=M?window:void 0,U=M?window.document:void 0;function F(n){var l;const d=p(n);return(l=d?.$el)!==null&&l!==void 0?l:d}function W(...n){const l=(i,t,e,a)=>(i.addEventListener(t,e,a),()=>i.removeEventListener(t,e,a)),d=N(()=>{const i=g(p(n[0])).filter(t=>t!=null);return i.every(t=>typeof t!="string")?i:void 0});return O(()=>{var i,t;return[(i=(t=d.value)===null||t===void 0?void 0:t.map(e=>F(e)))!==null&&i!==void 0?i:[L].filter(e=>e!=null),g(p(d.value?n[1]:n[0])),g(D(d.value?n[2]:n[1])),p(d.value?n[3]:n[2])]},([i,t,e,a],E,$)=>{if(!i?.length||!t?.length||!e?.length)return;const r=S(a)?{...a}:a,h=i.flatMap(s=>t.flatMap(o=>e.map(f=>l(s,o,f,r))));$(()=>{h.forEach(s=>s())})},{flush:"post"})}function I(n){return JSON.parse(JSON.stringify(n))}function q(n,l,d,i={}){var t,e;const{clone:a=!1,passive:E=!1,eventName:$,deep:r=!1,defaultValue:h,shouldEmit:s}=i,o=C(),f=d||o?.emit||(o==null||(t=o.$emit)===null||t===void 0?void 0:t.bind(o))||(o==null||(e=o.proxy)===null||e===void 0||(e=e.$emit)===null||e===void 0?void 0:e.bind(o?.proxy));let v=$;l||(l="modelValue"),v=v||`update:${l.toString()}`;const x=u=>a?typeof a=="function"?a(u):I(u):u,V=()=>P(n[l])?x(n[l]):h,b=u=>{s?s(u)&&f(v,u):f(v,u)};if(E){const u=T(V());let c=!1;return y(()=>n[l],m=>{c||(c=!0,u.value=x(m),J(()=>c=!1))}),y(u,m=>{!c&&(m!==n[l]||r)&&b(m)},{deep:r}),u}else return N({get(){return V()},set(u){b(u)}})}export{W as a,U as d,q as u};
