import{r as g,d as Z,i as pe,c as k,a as r,e as l,u as e,w as t,g as a,p as T,j as J,F,n as O,t as v,o as m,a8 as ge,U as ve,D as ye,k as _e,y as Ve,a4 as be,a9 as xe,h as $e,f as ke}from"./index-QFOTd2Kd.js";import{_ as A}from"./index-DyuDFaNz.js";import{_ as le,a as te,b as ae,c as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-sd7AA2SU.js";import{_ as D}from"./Input.vue_vue_type_script_setup_true_lang-BIaepkwK.js";import{a as se,b as ne,c as L,d as I,e as ue,f as j,_ as P,g as Ne}from"./Label.vue_vue_type_script_setup_true_lang-B0N-YRJT.js";import{_ as re,a as de,b as ie,c as me,d as fe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-qn4srsHV.js";import{a as B}from"./apiClient-Cyhc7A6k.js";import{_ as ce}from"./Separator.vue_vue_type_script_setup_true_lang-Dc9_avbK.js";import{_ as X,a as Y,b as q,c as G,d as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-g0p8pOR1.js";import"./utils-D_xcrhet.js";import"./index-CxEO5tYI.js";import"./Collection-CGcyK3yj.js";import"./DialogTitle-Bl2mC9UQ.js";import"./createLucideIcon-fWNHlsiP.js";import"./x-6HjwjOXz.js";const W={async getCompanyList(){const{data:p}=await B.get("/super/getCompanyList");return p},async createCompany(p){const{data:i}=await B.post("/super/createCompany",p);return i},async getProjectList(){const{data:p}=await B.get("/super/getProjectList");return p},async createProject(p){const{data:i}=await B.post("/super/createProject",p);return i},async getSystemRoleList(){const{data:p}=await B.get("/super/getSystemRoleList");return p},async createSystemRole(p){const{data:i}=await B.post("/super/createSystemRole",{name:p});return i},async getCompanyRoleList(){const{data:p}=await B.get("/super/getCompanyRoleList");return p},async createCompanyRole(p){const{data:i}=await B.post("/super/createCompanyRole",{name:p});return i},async getWorkTypeList(p){const{data:i}=await B.get("/super/getWorkTypeList",{params:{projectId:p}});return i},async getCompanyToProjectList(p){const{data:i}=await B.get("/super/getCompanyToProjectList",{params:p});return i},async createCompanyToProject(p){const{data:i}=await B.post("/super/createCompanyToProject",p);return i},async getUserToProjectList(p){const{data:i}=await B.get("/super/getUserToProjectList",{params:p});return i},async createUserToProject(p){const{data:i}=await B.post("/super/createUserToProject",p);return i},async getWorkerList(p){const{data:i}=await B.get("/super/getWorkerList",{params:p});return i},async updateWorker(p,i){const{data:_}=await B.put(`/super/updateWorker/${p}`,i);return _}};function we(){const p=g([]),i=g(!1),_=g(!1),x=async()=>{i.value=!0;try{p.value=await W.getCompanyList()}catch(y){console.error("회사 목록 조회 실패:",y)}finally{i.value=!1}};return{companies:p,isLoading:i,isCreating:_,loadCompanies:x,createCompany:async y=>{if(!_.value){_.value=!0;try{return await W.createCompany(y),await x(),!0}catch(C){console.error("회사 생성 실패:",C);const f=C;return alert(f.response?.data?.message||f.message),!1}finally{_.value=!1}}}}}const Ue={class:"space-y-4"},Ie={class:"flex justify-end"},Pe={class:"border rounded-lg"},Te={class:"grid gap-4 py-4"},Re={class:"grid gap-2"},Le={class:"grid gap-2"},De={class:"grid gap-2"},We={class:"grid gap-2"},Ae={class:"grid gap-2"},Se={class:"grid gap-2"},Me=Z({__name:"CompanyManagementArea",setup(p){const{companies:i,isLoading:_,isCreating:x,loadCompanies:w,createCompany:y}=we(),C=g(!1),f=g({name:"",address:"",registrationNumber:"",phoneNumber:"",bankingAccount:"",displayName:""}),c=()=>{f.value={name:"",address:"",registrationNumber:"",phoneNumber:"",bankingAccount:"",displayName:""}},N=async()=>{if(!f.value.name.trim()){alert("회사명을 입력해주세요.");return}await y(f.value)&&(C.value=!1,c())},V=()=>{c(),C.value=!0};return pe(()=>{w()}),(R,o)=>(m(),k("div",Ue,[r("div",Ie,[l(e(A),{onClick:V},{default:t(()=>[...o[8]||(o[8]=[a("회사 추가",-1)])]),_:1})]),r("div",Pe,[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(I),null,{default:t(()=>[...o[9]||(o[9]=[a("회사명",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[10]||(o[10]=[a("표시명",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[11]||(o[11]=[a("사업자번호",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[12]||(o[12]=[a("전화번호",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[13]||(o[13]=[a("주소",-1)])]),_:1})]),_:1})]),_:1}),l(e(ue),null,{default:t(()=>[e(_)?(m(),T(e(L),{key:0},{default:t(()=>[l(e(j),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...o[14]||(o[14]=[a(" 로딩 중... ",-1)])]),_:1})]),_:1})):e(i).length===0?(m(),T(e(L),{key:1},{default:t(()=>[l(e(j),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...o[15]||(o[15]=[a(" 등록된 회사가 없습니다. ",-1)])]),_:1})]),_:1})):J("",!0),(m(!0),k(F,null,O(e(i),n=>(m(),T(e(L),{key:n.id},{default:t(()=>[l(e(j),{class:"font-medium"},{default:t(()=>[a(v(n.companyName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.displayName||"-"),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.registrationNumber||"-"),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.phoneNumber||"-"),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.companyAddress||"-"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l(e(re),{open:C.value,"onUpdate:open":o[7]||(o[7]=n=>C.value=n)},{default:t(()=>[l(e(de),{class:"sm:max-w-[500px]"},{default:t(()=>[l(e(ie),null,{default:t(()=>[l(e(me),null,{default:t(()=>[...o[16]||(o[16]=[a("회사 추가",-1)])]),_:1})]),_:1}),r("div",Te,[r("div",Re,[l(e(P),{for:"name"},{default:t(()=>[...o[17]||(o[17]=[a("회사명 *",-1)])]),_:1}),l(e(D),{id:"name",modelValue:f.value.name,"onUpdate:modelValue":o[0]||(o[0]=n=>f.value.name=n),placeholder:"회사명 입력"},null,8,["modelValue"])]),r("div",Le,[l(e(P),{for:"displayName"},{default:t(()=>[...o[18]||(o[18]=[a("표시명",-1)])]),_:1}),l(e(D),{id:"displayName",modelValue:f.value.displayName,"onUpdate:modelValue":o[1]||(o[1]=n=>f.value.displayName=n),placeholder:"표시명 입력 (선택)"},null,8,["modelValue"])]),r("div",De,[l(e(P),{for:"registrationNumber"},{default:t(()=>[...o[19]||(o[19]=[a("사업자번호",-1)])]),_:1}),l(e(D),{id:"registrationNumber",modelValue:f.value.registrationNumber,"onUpdate:modelValue":o[2]||(o[2]=n=>f.value.registrationNumber=n),placeholder:"000-00-00000"},null,8,["modelValue"])]),r("div",We,[l(e(P),{for:"phoneNumber"},{default:t(()=>[...o[20]||(o[20]=[a("전화번호",-1)])]),_:1}),l(e(D),{id:"phoneNumber",modelValue:f.value.phoneNumber,"onUpdate:modelValue":o[3]||(o[3]=n=>f.value.phoneNumber=n),placeholder:"02-0000-0000"},null,8,["modelValue"])]),r("div",Ae,[l(e(P),{for:"address"},{default:t(()=>[...o[21]||(o[21]=[a("주소",-1)])]),_:1}),l(e(D),{id:"address",modelValue:f.value.address,"onUpdate:modelValue":o[4]||(o[4]=n=>f.value.address=n),placeholder:"회사 주소"},null,8,["modelValue"])]),r("div",Se,[l(e(P),{for:"bankingAccount"},{default:t(()=>[...o[22]||(o[22]=[a("계좌정보",-1)])]),_:1}),l(e(D),{id:"bankingAccount",modelValue:f.value.bankingAccount,"onUpdate:modelValue":o[5]||(o[5]=n=>f.value.bankingAccount=n),placeholder:"은행 계좌번호"},null,8,["modelValue"])])]),l(e(fe),null,{default:t(()=>[l(e(A),{variant:"outline",onClick:o[6]||(o[6]=n=>C.value=!1)},{default:t(()=>[...o[23]||(o[23]=[a("취소",-1)])]),_:1}),l(e(A),{onClick:N,disabled:e(x)},{default:t(()=>[a(v(e(x)?"생성 중...":"추가"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function Fe(){const p=g([]),i=g(!1),_=g(!1),x=async()=>{i.value=!0;try{p.value=await W.getProjectList()}catch(y){console.error("프로젝트 목록 조회 실패:",y)}finally{i.value=!1}};return{projects:p,isLoading:i,isCreating:_,loadProjects:x,createProject:async y=>{if(!_.value){_.value=!0;try{return await W.createProject(y),await x(),!0}catch(C){console.error("프로젝트 생성 실패:",C);const f=C;return alert(f.response?.data?.message||f.message),!1}finally{_.value=!1}}}}}const Oe={class:"space-y-4"},Ke={class:"flex justify-end"},Be={class:"border rounded-lg"},Ee={class:"grid gap-4 py-4"},ze={class:"grid gap-2"},Xe={class:"grid gap-2"},Ye={class:"grid grid-cols-2 gap-4"},qe={class:"grid gap-2"},Ge={class:"grid gap-2"},He={class:"grid grid-cols-2 gap-4"},Je={class:"grid gap-2"},Qe={class:"grid gap-2"},Ze=Z({__name:"ProjectManagementArea",setup(p){const{projects:i,isLoading:_,isCreating:x,loadProjects:w,createProject:y}=Fe(),C=g(!1),f=g({name:"",address:"",startDate:"",completionDate:"",weatherNx:void 0,weatherNy:void 0}),c=()=>{f.value={name:"",address:"",startDate:"",completionDate:"",weatherNx:void 0,weatherNy:void 0}},N=async()=>{if(!f.value.name.trim()){alert("프로젝트명을 입력해주세요.");return}if(!f.value.startDate||!f.value.completionDate){alert("착공일과 준공일을 입력해주세요.");return}await y(f.value)&&(C.value=!1,c())},V=()=>{c(),C.value=!0};return pe(()=>{w()}),(R,o)=>(m(),k("div",Oe,[r("div",Ke,[l(e(A),{onClick:V},{default:t(()=>[...o[8]||(o[8]=[a("프로젝트 추가",-1)])]),_:1})]),r("div",Be,[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(I),null,{default:t(()=>[...o[9]||(o[9]=[a("프로젝트명",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[10]||(o[10]=[a("현장주소",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[11]||(o[11]=[a("착공일",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[12]||(o[12]=[a("준공일",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...o[13]||(o[13]=[a("기상청 좌표",-1)])]),_:1})]),_:1})]),_:1}),l(e(ue),null,{default:t(()=>[e(_)?(m(),T(e(L),{key:0},{default:t(()=>[l(e(j),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...o[14]||(o[14]=[a(" 로딩 중... ",-1)])]),_:1})]),_:1})):e(i).length===0?(m(),T(e(L),{key:1},{default:t(()=>[l(e(j),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...o[15]||(o[15]=[a(" 등록된 프로젝트가 없습니다. ",-1)])]),_:1})]),_:1})):J("",!0),(m(!0),k(F,null,O(e(i),n=>(m(),T(e(L),{key:n.id},{default:t(()=>[l(e(j),{class:"font-medium"},{default:t(()=>[a(v(n.projectName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.siteAddress||"-"),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.startDate),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.completionDate),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(n.weatherNx&&n.weatherNy?`(${n.weatherNx}, ${n.weatherNy})`:"-"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l(e(re),{open:C.value,"onUpdate:open":o[7]||(o[7]=n=>C.value=n)},{default:t(()=>[l(e(de),{class:"sm:max-w-[500px]"},{default:t(()=>[l(e(ie),null,{default:t(()=>[l(e(me),null,{default:t(()=>[...o[16]||(o[16]=[a("프로젝트 추가",-1)])]),_:1})]),_:1}),r("div",Ee,[r("div",ze,[l(e(P),{for:"name"},{default:t(()=>[...o[17]||(o[17]=[a("프로젝트명 *",-1)])]),_:1}),l(e(D),{id:"name",modelValue:f.value.name,"onUpdate:modelValue":o[0]||(o[0]=n=>f.value.name=n),placeholder:"프로젝트명 입력"},null,8,["modelValue"])]),r("div",Xe,[l(e(P),{for:"address"},{default:t(()=>[...o[18]||(o[18]=[a("현장주소",-1)])]),_:1}),l(e(D),{id:"address",modelValue:f.value.address,"onUpdate:modelValue":o[1]||(o[1]=n=>f.value.address=n),placeholder:"현장 주소"},null,8,["modelValue"])]),r("div",Ye,[r("div",qe,[l(e(P),{for:"startDate"},{default:t(()=>[...o[19]||(o[19]=[a("착공일 *",-1)])]),_:1}),l(e(D),{id:"startDate",modelValue:f.value.startDate,"onUpdate:modelValue":o[2]||(o[2]=n=>f.value.startDate=n),type:"date"},null,8,["modelValue"])]),r("div",Ge,[l(e(P),{for:"completionDate"},{default:t(()=>[...o[20]||(o[20]=[a("준공일 *",-1)])]),_:1}),l(e(D),{id:"completionDate",modelValue:f.value.completionDate,"onUpdate:modelValue":o[3]||(o[3]=n=>f.value.completionDate=n),type:"date"},null,8,["modelValue"])])]),r("div",He,[r("div",Je,[l(e(P),{for:"weatherNx"},{default:t(()=>[...o[21]||(o[21]=[a("기상청 X좌표",-1)])]),_:1}),l(e(D),{id:"weatherNx",modelValue:f.value.weatherNx,"onUpdate:modelValue":o[4]||(o[4]=n=>f.value.weatherNx=n),modelModifiers:{number:!0},type:"number",placeholder:"NX"},null,8,["modelValue"])]),r("div",Qe,[l(e(P),{for:"weatherNy"},{default:t(()=>[...o[22]||(o[22]=[a("기상청 Y좌표",-1)])]),_:1}),l(e(D),{id:"weatherNy",modelValue:f.value.weatherNy,"onUpdate:modelValue":o[5]||(o[5]=n=>f.value.weatherNy=n),modelModifiers:{number:!0},type:"number",placeholder:"NY"},null,8,["modelValue"])])])]),l(e(fe),null,{default:t(()=>[l(e(A),{variant:"outline",onClick:o[6]||(o[6]=n=>C.value=!1)},{default:t(()=>[...o[23]||(o[23]=[a("취소",-1)])]),_:1}),l(e(A),{onClick:N,disabled:e(x)},{default:t(()=>[a(v(e(x)?"생성 중...":"추가"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function he(){const p=g([]),i=g(!1),_=g(!1),x=g(""),w=g([]),y=g(!1),C=g(!1),f=g(""),c=async()=>{i.value=!0;try{p.value=await W.getSystemRoleList()}catch(n){console.error("시스템 역할 목록 조회 실패:",n)}finally{i.value=!1}},N=async()=>{if(!(_.value||!x.value.trim())){_.value=!0;try{await W.createSystemRole(x.value.trim()),x.value="",await c()}catch(n){console.error("시스템 역할 생성 실패:",n);const $=n;alert($.response?.data?.message||$.message)}finally{_.value=!1}}},V=async()=>{y.value=!0;try{w.value=await W.getCompanyRoleList()}catch(n){console.error("회사 역할 목록 조회 실패:",n)}finally{y.value=!1}};return{systemRoles:p,isLoadingSystemRoles:i,isCreatingSystemRole:_,newSystemRoleName:x,loadSystemRoles:c,createSystemRole:N,companyRoles:w,isLoadingCompanyRoles:y,isCreatingCompanyRole:C,newCompanyRoleName:f,loadCompanyRoles:V,createCompanyRole:async()=>{if(!(C.value||!f.value.trim())){C.value=!0;try{await W.createCompanyRole(f.value.trim()),f.value="",await V()}catch(n){console.error("회사 역할 생성 실패:",n);const $=n;alert($.response?.data?.message||$.message)}finally{C.value=!1}}},loadAllRoles:async()=>{await Promise.all([c(),V()])}}}const el={class:"space-y-6"},ll={class:"space-y-4"},tl={class:"flex gap-2"},al={class:"flex flex-wrap gap-2"},ol={key:0,class:"text-sm text-muted-foreground"},sl={key:1,class:"text-sm text-muted-foreground"},nl={class:"space-y-4"},ul={class:"flex gap-2"},rl={class:"flex flex-wrap gap-2"},dl={key:0,class:"text-sm text-muted-foreground"},il={key:1,class:"text-sm text-muted-foreground"},ml=Z({__name:"RoleManagementArea",setup(p){const{systemRoles:i,isLoadingSystemRoles:_,isCreatingSystemRole:x,newSystemRoleName:w,createSystemRole:y,companyRoles:C,isLoadingCompanyRoles:f,isCreatingCompanyRole:c,newCompanyRoleName:N,createCompanyRole:V,loadAllRoles:R}=he();return pe(()=>{R()}),(o,n)=>(m(),k("div",el,[r("div",ll,[n[3]||(n[3]=r("h4",{class:"font-semibold"},"시스템 역할",-1)),n[4]||(n[4]=r("p",{class:"text-sm text-muted-foreground"}," 프로젝트 내 사용자의 권한을 정의합니다. (예: GC, SC, Viewer) ",-1)),r("div",tl,[l(e(D),{modelValue:e(w),"onUpdate:modelValue":n[0]||(n[0]=$=>ve(w)?w.value=$:null),placeholder:"새 시스템 역할명",onKeyup:ge(e(y),["enter"]),class:"max-w-xs"},null,8,["modelValue","onKeyup"]),l(e(A),{onClick:e(y),disabled:!e(w).trim()||e(x)},{default:t(()=>[...n[2]||(n[2]=[a(" 추가 ",-1)])]),_:1},8,["onClick","disabled"])]),r("div",al,[e(_)?(m(),k("div",ol," 로딩 중... ")):e(i).length===0?(m(),k("div",sl," 등록된 시스템 역할이 없습니다. ")):J("",!0),(m(!0),k(F,null,O(e(i),$=>(m(),k("div",{key:$.id,class:"px-3 py-1.5 bg-primary/10 text-primary rounded-md text-sm font-medium"},v($.name),1))),128))])]),l(e(ce)),r("div",nl,[n[6]||(n[6]=r("h4",{class:"font-semibold"},"회사 역할",-1)),n[7]||(n[7]=r("p",{class:"text-sm text-muted-foreground"}," 프로젝트에서 회사의 역할을 정의합니다. (예: 시공사, 감리사, 발주처) ",-1)),r("div",ul,[l(e(D),{modelValue:e(N),"onUpdate:modelValue":n[1]||(n[1]=$=>ve(N)?N.value=$:null),placeholder:"새 회사 역할명",onKeyup:ge(e(V),["enter"]),class:"max-w-xs"},null,8,["modelValue","onKeyup"]),l(e(A),{onClick:e(V),disabled:!e(N).trim()||e(c)},{default:t(()=>[...n[5]||(n[5]=[a(" 추가 ",-1)])]),_:1},8,["onClick","disabled"])]),r("div",rl,[e(f)?(m(),k("div",dl," 로딩 중... ")):e(C).length===0?(m(),k("div",il," 등록된 회사 역할이 없습니다. ")):J("",!0),(m(!0),k(F,null,O(e(C),$=>(m(),k("div",{key:$.id,class:"px-3 py-1.5 bg-secondary text-secondary-foreground rounded-md text-sm font-medium"},v($.name),1))),128))])])]))}});function fl(){const p=g([]),i=g([]),_=g([]),x=g([]),w=g([]),y=g(!1),C=g([]),f=g(!1),c=g(!1),N=g({}),V=g([]),R=g(!1),o=g(!1),n=g({}),$=async()=>{try{const[U,z,E,S]=await Promise.all([W.getCompanyList(),W.getProjectList(),W.getCompanyRoleList(),W.getSystemRoleList()]);p.value=U,i.value=z,_.value=E,x.value=S}catch(U){console.error("조회 데이터 로드 실패:",U)}},d=async U=>{if(!U||U==="__all__"){w.value=[];return}y.value=!0;try{w.value=await W.getWorkTypeList(U)}catch(z){console.error("공종 목록 로드 실패:",z),w.value=[]}finally{y.value=!1}},b=async()=>{f.value=!0;try{const U={};N.value.projectId&&N.value.projectId!=="__all__"&&(U.projectId=N.value.projectId),N.value.companyId&&N.value.companyId!=="__all__"&&(U.companyId=N.value.companyId),C.value=await W.getCompanyToProjectList(Object.keys(U).length>0?U:void 0)}catch(U){console.error("회사-프로젝트 매핑 조회 실패:",U)}finally{f.value=!1}},h=async U=>{if(c.value)return!1;c.value=!0;try{return await W.createCompanyToProject(U),await b(),!0}catch(z){console.error("회사-프로젝트 매핑 생성 실패:",z);const E=z;return alert(E.response?.data?.message||E.message),!1}finally{c.value=!1}},Q=async()=>{R.value=!0;try{const U={};n.value.projectId&&n.value.projectId!=="__all__"&&(U.projectId=n.value.projectId),n.value.userId&&n.value.userId!=="__all__"&&(U.userId=n.value.userId),V.value=await W.getUserToProjectList(Object.keys(U).length>0?U:void 0)}catch(U){console.error("사용자-프로젝트 매핑 조회 실패:",U)}finally{R.value=!1}},H=async U=>{if(o.value)return!1;o.value=!0;try{return await W.createUserToProject(U),await Q(),!0}catch(z){console.error("사용자-프로젝트 매핑 생성 실패:",z);const E=z;return alert(E.response?.data?.message||E.message),!1}finally{o.value=!1}};return ye(N,()=>b(),{deep:!0}),ye(n,()=>Q(),{deep:!0}),{companies:p,projects:i,companyRoles:_,systemRoles:x,workTypes:w,isLoadingWorkTypes:y,loadWorkTypes:d,companyToProjectList:C,isLoadingCompanyToProject:f,isCreatingCompanyToProject:c,companyToProjectFilter:N,loadCompanyToProjectList:b,createCompanyToProject:h,userToProjectList:V,isLoadingUserToProject:R,isCreatingUserToProject:o,userToProjectFilter:n,loadUserToProjectList:Q,createUserToProject:H,loadLookupData:$,loadAll:async()=>{await $(),await Promise.all([b(),Q()])}}}const pl={class:"space-y-8"},vl={class:"space-y-4"},yl={class:"flex justify-between items-center"},gl={class:"flex gap-4"},_l={class:"w-48"},cl={class:"w-48"},Cl={class:"border rounded-lg"},jl={class:"space-y-4"},Vl={class:"flex justify-between items-center"},bl={class:"flex gap-4"},xl={class:"w-48"},$l={class:"border rounded-lg"},kl={class:"grid gap-4 py-4"},Nl={class:"grid gap-2"},wl={class:"grid gap-2"},Ul={class:"grid gap-2"},Il={class:"grid gap-2"},Pl={class:"grid gap-4 py-4"},Tl={class:"grid gap-2"},Rl={class:"grid gap-2"},Ll={class:"grid gap-2"},Dl={class:"grid gap-2"},Wl={class:"grid gap-2"},Al=Z({__name:"MappingManagementArea",setup(p){const{companies:i,projects:_,companyRoles:x,systemRoles:w,workTypes:y,isLoadingWorkTypes:C,loadWorkTypes:f,companyToProjectList:c,isLoadingCompanyToProject:N,isCreatingCompanyToProject:V,companyToProjectFilter:R,createCompanyToProject:o,userToProjectList:n,isLoadingUserToProject:$,isCreatingUserToProject:d,userToProjectFilter:b,createUserToProject:h,loadAll:Q}=fl(),H=g(!1),M=g({companyId:"",projectId:"",roleId:0,workTypeId:void 0}),U=()=>{M.value={companyId:"",projectId:"",roleId:0,workTypeId:void 0}};ye(()=>M.value.projectId,ee=>{M.value.workTypeId=void 0,ee&&f(ee)});const z=async()=>{if(!M.value.companyId||!M.value.projectId||!M.value.roleId){alert("회사, 프로젝트, 역할을 선택해주세요.");return}await o(M.value)&&(H.value=!1,U())},E=g(!1),S=g({userId:"",projectId:"",companyToProjectId:0,projectRole:"",systemRoleId:0}),Ce=()=>{S.value={userId:"",projectId:"",companyToProjectId:0,projectRole:"",systemRoleId:0}},je=async()=>{if(!S.value.userId||!S.value.projectId||!S.value.companyToProjectId||!S.value.systemRoleId){alert("모든 필수 항목을 입력해주세요.");return}await h(S.value)&&(E.value=!1,Ce())};return pe(()=>{Q()}),(ee,s)=>(m(),k("div",pl,[r("div",vl,[r("div",yl,[s[21]||(s[21]=r("h4",{class:"font-semibold"},"회사-프로젝트 매핑",-1)),l(e(A),{onClick:s[0]||(s[0]=u=>H.value=!0)},{default:t(()=>[...s[20]||(s[20]=[a("매핑 추가",-1)])]),_:1})]),r("div",gl,[r("div",_l,[l(e(X),{modelValue:e(R).projectId,"onUpdate:modelValue":s[1]||(s[1]=u=>e(R).projectId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"프로젝트 필터"})]),_:1}),l(e(G),null,{default:t(()=>[l(e(K),{value:"__all__"},{default:t(()=>[...s[22]||(s[22]=[a("전체",-1)])]),_:1}),(m(!0),k(F,null,O(e(_),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.projectName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",cl,[l(e(X),{modelValue:e(R).companyId,"onUpdate:modelValue":s[2]||(s[2]=u=>e(R).companyId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"회사 필터"})]),_:1}),l(e(G),null,{default:t(()=>[l(e(K),{value:"__all__"},{default:t(()=>[...s[23]||(s[23]=[a("전체",-1)])]),_:1}),(m(!0),k(F,null,O(e(i),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.companyName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),r("div",Cl,[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(I),null,{default:t(()=>[...s[24]||(s[24]=[a("프로젝트",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[25]||(s[25]=[a("회사",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[26]||(s[26]=[a("역할",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[27]||(s[27]=[a("공종",-1)])]),_:1})]),_:1})]),_:1}),l(e(ue),null,{default:t(()=>[e(N)?(m(),T(e(L),{key:0},{default:t(()=>[l(e(j),{colspan:"4",class:"text-center text-muted-foreground"},{default:t(()=>[...s[28]||(s[28]=[a(" 로딩 중... ",-1)])]),_:1})]),_:1})):e(c).length===0?(m(),T(e(L),{key:1},{default:t(()=>[l(e(j),{colspan:"4",class:"text-center text-muted-foreground"},{default:t(()=>[...s[29]||(s[29]=[a(" 매핑이 없습니다. ",-1)])]),_:1})]),_:1})):J("",!0),(m(!0),k(F,null,O(e(c),u=>(m(),T(e(L),{key:u.id},{default:t(()=>[l(e(j),null,{default:t(()=>[a(v(u.projectName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.companyName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.roleName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.workTypeName||"-"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),l(e(ce)),r("div",jl,[r("div",Vl,[s[31]||(s[31]=r("h4",{class:"font-semibold"},"사용자-프로젝트 매핑",-1)),l(e(A),{onClick:s[3]||(s[3]=u=>E.value=!0)},{default:t(()=>[...s[30]||(s[30]=[a("매핑 추가",-1)])]),_:1})]),r("div",bl,[r("div",xl,[l(e(X),{modelValue:e(b).projectId,"onUpdate:modelValue":s[4]||(s[4]=u=>e(b).projectId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"프로젝트 필터"})]),_:1}),l(e(G),null,{default:t(()=>[l(e(K),{value:"__all__"},{default:t(()=>[...s[32]||(s[32]=[a("전체",-1)])]),_:1}),(m(!0),k(F,null,O(e(_),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.projectName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),r("div",$l,[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(I),null,{default:t(()=>[...s[33]||(s[33]=[a("프로젝트",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[34]||(s[34]=[a("사용자",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[35]||(s[35]=[a("이메일",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[36]||(s[36]=[a("소속회사",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[37]||(s[37]=[a("프로젝트 직책",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...s[38]||(s[38]=[a("시스템 역할",-1)])]),_:1})]),_:1})]),_:1}),l(e(ue),null,{default:t(()=>[e($)?(m(),T(e(L),{key:0},{default:t(()=>[l(e(j),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...s[39]||(s[39]=[a(" 로딩 중... ",-1)])]),_:1})]),_:1})):e(n).length===0?(m(),T(e(L),{key:1},{default:t(()=>[l(e(j),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...s[40]||(s[40]=[a(" 매핑이 없습니다. ",-1)])]),_:1})]),_:1})):J("",!0),(m(!0),k(F,null,O(e(n),u=>(m(),T(e(L),{key:u.id},{default:t(()=>[l(e(j),null,{default:t(()=>[a(v(u.projectName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.userName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.userEmail),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.companyName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.projectRole||"-"),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(u.systemRoleName),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),l(e(re),{open:H.value,"onUpdate:open":s[11]||(s[11]=u=>H.value=u)},{default:t(()=>[l(e(de),{class:"sm:max-w-[500px]",onInteractOutside:s[10]||(s[10]=_e(()=>{},["prevent"]))},{default:t(()=>[l(e(ie),null,{default:t(()=>[l(e(me),null,{default:t(()=>[...s[41]||(s[41]=[a("회사-프로젝트 매핑 추가",-1)])]),_:1})]),_:1}),r("div",kl,[r("div",Nl,[l(e(P),null,{default:t(()=>[...s[42]||(s[42]=[a("프로젝트 *",-1)])]),_:1}),l(e(X),{modelValue:M.value.projectId,"onUpdate:modelValue":s[5]||(s[5]=u=>M.value.projectId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"프로젝트 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(_),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.projectName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",wl,[l(e(P),null,{default:t(()=>[...s[43]||(s[43]=[a("회사 *",-1)])]),_:1}),l(e(X),{modelValue:M.value.companyId,"onUpdate:modelValue":s[6]||(s[6]=u=>M.value.companyId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"회사 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(i),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.companyName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",Ul,[l(e(P),null,{default:t(()=>[...s[44]||(s[44]=[a("회사 역할 *",-1)])]),_:1}),l(e(X),{modelValue:M.value.roleId,"onUpdate:modelValue":s[7]||(s[7]=u=>M.value.roleId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"역할 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(x),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",Il,[l(e(P),null,{default:t(()=>[...s[45]||(s[45]=[a("공종",-1)])]),_:1}),l(e(X),{modelValue:M.value.workTypeId,"onUpdate:modelValue":s[8]||(s[8]=u=>M.value.workTypeId=u),disabled:!M.value.projectId||e(C)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:e(C)?"로딩 중...":"공종 선택 (선택사항)"},null,8,["placeholder"])]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(y),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])])]),l(e(fe),null,{default:t(()=>[l(e(A),{variant:"outline",onClick:s[9]||(s[9]=u=>H.value=!1)},{default:t(()=>[...s[46]||(s[46]=[a("취소",-1)])]),_:1}),l(e(A),{onClick:z,disabled:e(V)},{default:t(()=>[a(v(e(V)?"생성 중...":"추가"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(e(re),{open:E.value,"onUpdate:open":s[19]||(s[19]=u=>E.value=u)},{default:t(()=>[l(e(de),{class:"sm:max-w-[500px]",onInteractOutside:s[18]||(s[18]=_e(()=>{},["prevent"]))},{default:t(()=>[l(e(ie),null,{default:t(()=>[l(e(me),null,{default:t(()=>[...s[47]||(s[47]=[a("사용자-프로젝트 매핑 추가",-1)])]),_:1})]),_:1}),r("div",Pl,[r("div",Tl,[l(e(P),null,{default:t(()=>[...s[48]||(s[48]=[a("사용자 ID *",-1)])]),_:1}),l(e(D),{modelValue:S.value.userId,"onUpdate:modelValue":s[12]||(s[12]=u=>S.value.userId=u),placeholder:"사용자 UUID 입력"},null,8,["modelValue"])]),r("div",Rl,[l(e(P),null,{default:t(()=>[...s[49]||(s[49]=[a("프로젝트 *",-1)])]),_:1}),l(e(X),{modelValue:S.value.projectId,"onUpdate:modelValue":s[13]||(s[13]=u=>S.value.projectId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"프로젝트 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(_),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.projectName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",Ll,[l(e(P),null,{default:t(()=>[...s[50]||(s[50]=[a("소속 (회사-프로젝트 매핑 ID) *",-1)])]),_:1}),l(e(X),{modelValue:S.value.companyToProjectId,"onUpdate:modelValue":s[14]||(s[14]=u=>S.value.companyToProjectId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"소속 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(c),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.companyName)+" - "+v(u.roleName),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",Dl,[l(e(P),null,{default:t(()=>[...s[51]||(s[51]=[a("프로젝트 직책",-1)])]),_:1}),l(e(D),{modelValue:S.value.projectRole,"onUpdate:modelValue":s[15]||(s[15]=u=>S.value.projectRole=u),placeholder:"예: 현장소장"},null,8,["modelValue"])]),r("div",Wl,[l(e(P),null,{default:t(()=>[...s[52]||(s[52]=[a("시스템 역할 *",-1)])]),_:1}),l(e(X),{modelValue:S.value.systemRoleId,"onUpdate:modelValue":s[16]||(s[16]=u=>S.value.systemRoleId=u)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"시스템 역할 선택"})]),_:1}),l(e(G),null,{default:t(()=>[(m(!0),k(F,null,O(e(w),u=>(m(),T(e(K),{key:u.id,value:u.id},{default:t(()=>[a(v(u.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),l(e(fe),null,{default:t(()=>[l(e(A),{variant:"outline",onClick:s[17]||(s[17]=u=>E.value=!1)},{default:t(()=>[...s[53]||(s[53]=[a("취소",-1)])]),_:1}),l(e(A),{onClick:je,disabled:e(d)},{default:t(()=>[a(v(e(d)?"생성 중...":"추가"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function Sl(){const p=g([]),i=g(!1),_=g(!1),x=g("all"),w=Ve(()=>x.value==="all"?p.value:x.value==="confirmed"?p.value.filter(c=>c.confirmed):p.value.filter(c=>!c.confirmed)),y=async()=>{i.value=!0;try{p.value=await W.getWorkerList()}catch(c){console.error("작업자 목록 조회 실패:",c)}finally{i.value=!1}},C=async(c,N)=>{if(_.value)return!1;_.value=!0;try{return await W.updateWorker(c,N),await y(),!0}catch(V){console.error("작업자 수정 실패:",V);const R=V;return alert(R.response?.data?.message||R.message),!1}finally{_.value=!1}};return{workers:p,filteredWorkers:w,isLoading:i,isUpdating:_,filterConfirmed:x,loadWorkers:y,updateWorker:C,toggleWorkerConfirmed:async c=>C(c.id,{name:c.workerName,phoneNumber:c.phoneNumber,registrationNumber:c.registrationNumber,confirmed:!c.confirmed,registrationCardUrl:c.registrationCardUrl||void 0})}}const Ml={class:"space-y-4"},Fl={class:"flex justify-end items-center gap-4"},Ol={class:"w-40"},Kl={class:"border rounded-lg"},Bl=["href"],El={key:1,class:"text-muted-foreground"},zl={class:"flex justify-end gap-2"},Xl={class:"grid gap-4 py-4"},Yl={class:"grid gap-2"},ql={class:"grid gap-2"},Gl={class:"grid gap-2"},Hl={class:"grid gap-2"},Jl={class:"flex items-center gap-2"},Ql=Z({__name:"WorkerManagementArea",setup(p){const{filteredWorkers:i,isLoading:_,isUpdating:x,filterConfirmed:w,loadWorkers:y,updateWorker:C,toggleWorkerConfirmed:f}=Sl(),c=g(!1),N=g(null),V=g({name:"",phoneNumber:"",registrationNumber:"",confirmed:!1,registrationCardUrl:""}),R=$=>{N.value=$,V.value={name:$.workerName,phoneNumber:$.phoneNumber,registrationNumber:$.registrationNumber,confirmed:$.confirmed,registrationCardUrl:$.registrationCardUrl||""},c.value=!0},o=async()=>{if(!N.value)return;if(!V.value.name.trim()||!V.value.phoneNumber.trim()){alert("이름과 전화번호를 입력해주세요.");return}await C(N.value.id,V.value)&&(c.value=!1,N.value=null)},n=async $=>{await f($)};return pe(()=>{y()}),($,d)=>(m(),k("div",Ml,[r("div",Fl,[r("div",Ol,[l(e(X),{modelValue:e(w),"onUpdate:modelValue":d[0]||(d[0]=b=>ve(w)?w.value=b:null)},{default:t(()=>[l(e(Y),null,{default:t(()=>[l(e(q),{placeholder:"승인 상태"})]),_:1}),l(e(G),null,{default:t(()=>[l(e(K),{value:"all"},{default:t(()=>[...d[8]||(d[8]=[a("전체",-1)])]),_:1}),l(e(K),{value:"confirmed"},{default:t(()=>[...d[9]||(d[9]=[a("승인됨",-1)])]),_:1}),l(e(K),{value:"unconfirmed"},{default:t(()=>[...d[10]||(d[10]=[a("미승인",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),r("div",Kl,[l(e(se),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(I),null,{default:t(()=>[...d[11]||(d[11]=[a("이름",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...d[12]||(d[12]=[a("전화번호",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...d[13]||(d[13]=[a("주민등록번호",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...d[14]||(d[14]=[a("승인상태",-1)])]),_:1}),l(e(I),null,{default:t(()=>[...d[15]||(d[15]=[a("등록증",-1)])]),_:1}),l(e(I),{class:"text-right"},{default:t(()=>[...d[16]||(d[16]=[a("작업",-1)])]),_:1})]),_:1})]),_:1}),l(e(ue),null,{default:t(()=>[e(_)?(m(),T(e(L),{key:0},{default:t(()=>[l(e(j),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...d[17]||(d[17]=[a(" 로딩 중... ",-1)])]),_:1})]),_:1})):e(i).length===0?(m(),T(e(L),{key:1},{default:t(()=>[l(e(j),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...d[18]||(d[18]=[a(" 작업자가 없습니다. ",-1)])]),_:1})]),_:1})):J("",!0),(m(!0),k(F,null,O(e(i),b=>(m(),T(e(L),{key:b.id},{default:t(()=>[l(e(j),{class:"font-medium"},{default:t(()=>[a(v(b.workerName),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(b.phoneNumber),1)]),_:2},1024),l(e(j),null,{default:t(()=>[a(v(b.registrationNumber),1)]),_:2},1024),l(e(j),null,{default:t(()=>[l(e(Ne),{variant:b.confirmed?"default":"secondary"},{default:t(()=>[a(v(b.confirmed?"승인":"미승인"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(j),null,{default:t(()=>[b.registrationCardUrl?(m(),k("a",{key:0,href:b.registrationCardUrl,target:"_blank",class:"text-primary hover:underline"}," 보기 ",8,Bl)):(m(),k("span",El,"-"))]),_:2},1024),l(e(j),{class:"text-right"},{default:t(()=>[r("div",zl,[l(e(A),{variant:"outline",size:"sm",onClick:h=>n(b),disabled:e(x)},{default:t(()=>[a(v(b.confirmed?"승인취소":"승인"),1)]),_:2},1032,["onClick","disabled"]),l(e(A),{variant:"ghost",size:"sm",onClick:h=>R(b)},{default:t(()=>[...d[19]||(d[19]=[a(" 수정 ",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l(e(re),{open:c.value,"onUpdate:open":d[7]||(d[7]=b=>c.value=b)},{default:t(()=>[l(e(de),{class:"sm:max-w-[500px]"},{default:t(()=>[l(e(ie),null,{default:t(()=>[l(e(me),null,{default:t(()=>[...d[20]||(d[20]=[a("작업자 정보 수정",-1)])]),_:1})]),_:1}),r("div",Xl,[r("div",Yl,[l(e(P),{for:"name"},{default:t(()=>[...d[21]||(d[21]=[a("이름 *",-1)])]),_:1}),l(e(D),{id:"name",modelValue:V.value.name,"onUpdate:modelValue":d[1]||(d[1]=b=>V.value.name=b),placeholder:"이름"},null,8,["modelValue"])]),r("div",ql,[l(e(P),{for:"phoneNumber"},{default:t(()=>[...d[22]||(d[22]=[a("전화번호 *",-1)])]),_:1}),l(e(D),{id:"phoneNumber",modelValue:V.value.phoneNumber,"onUpdate:modelValue":d[2]||(d[2]=b=>V.value.phoneNumber=b),placeholder:"010-0000-0000"},null,8,["modelValue"])]),r("div",Gl,[l(e(P),{for:"registrationNumber"},{default:t(()=>[...d[23]||(d[23]=[a("주민등록번호 *",-1)])]),_:1}),l(e(D),{id:"registrationNumber",modelValue:V.value.registrationNumber,"onUpdate:modelValue":d[3]||(d[3]=b=>V.value.registrationNumber=b),placeholder:"000000-0000000"},null,8,["modelValue"])]),r("div",Hl,[l(e(P),{for:"registrationCardUrl"},{default:t(()=>[...d[24]||(d[24]=[a("등록증 URL",-1)])]),_:1}),l(e(D),{id:"registrationCardUrl",modelValue:V.value.registrationCardUrl,"onUpdate:modelValue":d[4]||(d[4]=b=>V.value.registrationCardUrl=b),placeholder:"https://..."},null,8,["modelValue"])]),r("div",Jl,[be(r("input",{id:"confirmed",type:"checkbox","onUpdate:modelValue":d[5]||(d[5]=b=>V.value.confirmed=b),class:"h-4 w-4 rounded border-gray-300"},null,512),[[xe,V.value.confirmed]]),l(e(P),{for:"confirmed"},{default:t(()=>[...d[25]||(d[25]=[a("승인됨",-1)])]),_:1})])]),l(e(fe),null,{default:t(()=>[l(e(A),{variant:"outline",onClick:d[6]||(d[6]=b=>c.value=!1)},{default:t(()=>[...d[26]||(d[26]=[a("취소",-1)])]),_:1}),l(e(A),{onClick:o,disabled:e(x)},{default:t(()=>[a(v(e(x)?"저장 중...":"저장"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}}),Zl={class:"min-h-screen bg-background"},hl={class:"sticky top-0 z-10 border-b border-border bg-background p-4"},et={class:"flex items-center justify-between"},lt={class:"flex items-center gap-4"},tt={class:"text-sm text-muted-foreground"},at={class:"p-6 space-y-6"},Ct=Z({__name:"SystemAdminPage",setup(p){const i=ke(),_=$e(),x=async()=>{await _.logout(),i.push("/")};return(w,y)=>(m(),k("div",Zl,[r("header",hl,[r("div",et,[y[1]||(y[1]=r("h1",{class:"text-2xl font-bold"},"시스템 관리자",-1)),r("div",lt,[r("span",tt,v(e(_).user?.userName)+" ("+v(e(_).user?.systemRole)+") ",1),l(e(A),{variant:"outline",onClick:x},{default:t(()=>[...y[0]||(y[0]=[a("로그아웃",-1)])]),_:1})])])]),r("main",at,[l(e(le),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(ae),null,{default:t(()=>[...y[2]||(y[2]=[a("회사 관리",-1)])]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(Me)]),_:1})]),_:1}),l(e(le),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(ae),null,{default:t(()=>[...y[3]||(y[3]=[a("프로젝트 관리",-1)])]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(Ze)]),_:1})]),_:1}),l(e(le),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(ae),null,{default:t(()=>[...y[4]||(y[4]=[a("역할 관리",-1)])]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(ml)]),_:1})]),_:1}),l(e(le),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(ae),null,{default:t(()=>[...y[5]||(y[5]=[a("매핑 관리",-1)])]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(Al)]),_:1})]),_:1}),l(e(le),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(ae),null,{default:t(()=>[...y[6]||(y[6]=[a("작업자 관리",-1)])]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(Ql)]),_:1})]),_:1})])]))}});export{Ct as default};
