import{d as w,h as E,r as g,i as V,c as i,e as a,w as r,u as e,g as l,j as c,a as o,t as n,k as $,f as L,l as h,o as u}from"./index-QFOTd2Kd.js";import{_}from"./index-DyuDFaNz.js";import{_ as C,a as P,b as B,c as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-sd7AA2SU.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-BMqBPtf4.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-BIaepkwK.js";import"./utils-D_xcrhet.js";import"./index-CxEO5tYI.js";const j={class:"min-h-screen flex items-center justify-center p-4"},M={key:0,class:"p-3 text-sm text-red-600 bg-red-50 rounded-md dark:bg-red-900/20 dark:text-red-400"},R={class:"space-y-2"},U={key:0,class:"text-sm text-red-500"},q={class:"space-y-2"},A={key:0,class:"text-sm text-red-500"},D={class:"flex flex-col gap-2 pt-4"},O={class:"text-center text-sm text-muted-foreground pt-2"},Q=w({__name:"LoginPage",setup(T){const m=L(),b=h(),t=E(),f=g(""),p=g("");V(()=>{t.clearError()});const v=async()=>{try{await t.login({userEmail:f.value,userPassword:p.value});const x=b.query.redirect;m.push(x||"/helper/dashboard")}catch{}},k=()=>{m.push("/")};return(x,s)=>(u(),i("div",j,[a(e(C),{class:"w-full max-w-md"},{default:r(()=>[a(e(P),null,{default:r(()=>[a(e(B),{class:"text-2xl text-center"},{default:r(()=>[...s[3]||(s[3]=[l("로그인",-1)])]),_:1}),a(e(S),{class:"text-center"},{default:r(()=>[...s[4]||(s[4]=[l("건설업무도우미에 로그인하세요",-1)])]),_:1})]),_:1}),a(e(N),{class:"space-y-4"},{default:r(()=>[e(t).error&&Object.keys(e(t).fieldErrors).length===0?(u(),i("div",M,n(e(t).error),1)):c("",!0),o("form",{class:"space-y-4",onSubmit:$(v,["prevent"])},[o("div",R,[s[5]||(s[5]=o("label",{class:"text-sm font-medium"},"이메일",-1)),a(e(y),{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=d=>f.value=d),type:"text",placeholder:"이메일을 입력하세요",disabled:e(t).isLoading},null,8,["modelValue","disabled"]),e(t).fieldErrors.userEmail?(u(),i("p",U,n(e(t).fieldErrors.userEmail),1)):c("",!0)]),o("div",q,[s[6]||(s[6]=o("label",{class:"text-sm font-medium"},"비밀번호",-1)),a(e(y),{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=d=>p.value=d),type:"password",placeholder:"비밀번호를 입력하세요",disabled:e(t).isLoading},null,8,["modelValue","disabled"]),e(t).fieldErrors.userPassword?(u(),i("p",A,n(e(t).fieldErrors.userPassword),1)):c("",!0)]),o("div",D,[a(e(_),{type:"submit",class:"w-full",disabled:e(t).isLoading},{default:r(()=>[l(n(e(t).isLoading?"로그인 중...":"로그인"),1)]),_:1},8,["disabled"]),a(e(_),{variant:"outline",type:"button",class:"w-full",onClick:k},{default:r(()=>[...s[7]||(s[7]=[l(" 돌아가기 ",-1)])]),_:1})])],32),o("div",O,[s[9]||(s[9]=l(" 계정이 없으신가요? ",-1)),a(e(_),{variant:"link",class:"px-1",onClick:s[2]||(s[2]=d=>e(m).push("/signup"))},{default:r(()=>[...s[8]||(s[8]=[l(" 회원가입 ",-1)])]),_:1})])]),_:1})]),_:1})]))}});export{Q as default};
