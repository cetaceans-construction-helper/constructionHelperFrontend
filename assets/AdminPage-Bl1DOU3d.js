import{_ as me}from"./PageContainer.vue_vue_type_script_setup_true_lang-DARyYLSt.js";import{_ as ve}from"./AreaCard.vue_vue_type_script_setup_true_lang-BTyLnMwc.js";import{P as ye,c as fe}from"./utils-jsZz6u_V.js";import{d as O,y as K,p as B,o as n,w as v,s as le,x as ie,u as e,A as ge,B as _e,r as p,D as Y,i as ne,c as u,a,e as l,J as E,V as ee,g as N,j as Z,F as M,n as A,q as se,t as $,a5 as ke,E as be,k as xe,a6 as he}from"./index-CJnPFP6M.js";import{r as Ce}from"./index-C7zGTSkS.js";import{_ as P}from"./index-Pire2-n3.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-CZizZgEN.js";import{r as h}from"./reference-BsQ5fKUZ.js";import{_ as J,a as G,b as Q,c as X,d as q,C as Te}from"./SelectValue.vue_vue_type_script_setup_true_lang-CyB-6Y59.js";import{C as we}from"./chevron-right-DNVk2g_E.js";import{c as We}from"./check-CedvRn_y.js";import"./Collection-BS091Fv8.js";import"./index-BikqK5lG.js";import"./apiClient-D1LzH2VT.js";var Se=O({__name:"BaseSeparator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(W){const f=W,g=["horizontal","vertical"];function _(i){return g.includes(i)}const c=K(()=>_(f.orientation)?f.orientation:"horizontal"),k=K(()=>c.value==="vertical"?f.orientation:void 0),b=K(()=>f.decorative?{role:"none"}:{"aria-orientation":k.value,role:"separator"});return(i,r)=>(n(),B(e(ye),ie({as:i.as,"as-child":i.asChild,"data-orientation":c.value},b.value),{default:v(()=>[le(i.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),$e=Se,Ie=O({__name:"Separator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(W){const f=W;return(g,_)=>(n(),B($e,ge(_e(f)),{default:v(()=>[le(g.$slots,"default")]),_:3},16))}}),Ve=Ie;const De=We("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),re=O({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(W){const f=W,g=Ce(f,"class");return(_,c)=>(n(),B(e(Ve),ie({"data-slot":"separator"},e(g),{class:e(fe)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",f.class)}),null,16,["class"]))}});function Ne(){const W=p([]),f=p([]),g=p([]),_=p(null),c=p(null),k=p(""),b=p(""),i=p(""),r=p(!1),S=async()=>{try{W.value=await h.getDivisionList()}catch(o){console.error("Division 목록 로드 실패:",o)}},D=async o=>{try{f.value=await h.getWorkTypeList(o)}catch(t){console.error("WorkType 목록 로드 실패:",t)}},I=async o=>{try{g.value=await h.getSubWorkTypeList(o)}catch(t){console.error("SubWorkType 목록 로드 실패:",t)}},x=o=>{_.value=o,c.value=null,g.value=[]},C=o=>{c.value=o},z=async()=>{if(r.value)return;const o=k.value.trim();if(o){r.value=!0;try{await h.createDivision(o),k.value="",await S()}catch(t){console.error("Division 추가 실패:",t);const y=t;alert(y.response?.data?.message||y.message)}finally{r.value=!1}}},L=async()=>{if(r.value)return;const o=b.value.trim();if(!(!o||!_.value)){r.value=!0;try{await h.createWorkType(_.value,o),b.value="",await D(_.value)}catch(t){console.error("WorkType 추가 실패:",t);const y=t;alert(y.response?.data?.message||y.message)}finally{r.value=!1}}},F=async()=>{if(r.value)return;const o=i.value.trim();if(!(!o||!c.value)){r.value=!0;try{await h.createSubWorkType(c.value,o),i.value="",await I(c.value)}catch(t){console.error("SubWorkType 추가 실패:",t);const y=t;alert(y.response?.data?.message||y.message)}finally{r.value=!1}}};return Y(_,o=>{f.value=[],o&&D(o)}),Y(c,o=>{g.value=[],o&&I(o)}),{divisions:W,workTypes:f,subWorkTypes:g,selectedDivisionId:_,selectedWorkTypeId:c,newDivisionName:k,newWorkTypeName:b,newSubWorkTypeName:i,isCreating:r,loadDivisions:S,selectDivision:x,selectWorkType:C,addDivision:z,addWorkType:L,addSubWorkType:F}}const ze={class:"grid grid-cols-3 gap-4"},Le={class:"space-y-2"},Ue={class:"flex gap-1"},Me={class:"space-y-1 max-h-48 overflow-y-auto"},Ae=["onClick"],Be={key:0,class:"text-xs text-muted-foreground py-2 text-center"},Fe={class:"space-y-2"},Ke={class:"flex gap-1"},Ze={class:"space-y-1 max-h-48 overflow-y-auto"},qe=["onClick"],Pe={key:0,class:"text-xs text-muted-foreground py-2 text-center"},Oe={key:1,class:"text-xs text-muted-foreground py-2 text-center"},Re={class:"space-y-2"},Ee={class:"flex gap-1"},je={class:"space-y-1 max-h-48 overflow-y-auto"},He={key:0,class:"text-xs text-muted-foreground py-2 text-center"},Je={key:1,class:"text-xs text-muted-foreground py-2 text-center"},Ge=O({__name:"WorkClassificationArea",setup(W){const{divisions:f,workTypes:g,subWorkTypes:_,selectedDivisionId:c,selectedWorkTypeId:k,newDivisionName:b,newWorkTypeName:i,newSubWorkTypeName:r,isCreating:S,loadDivisions:D,selectDivision:I,selectWorkType:x,addDivision:C,addWorkType:z,addSubWorkType:L}=Ne();return ne(()=>{D()}),(F,o)=>(n(),u("div",null,[o[9]||(o[9]=a("h3",{class:"text-sm font-semibold mb-3"},"공종분류",-1)),a("div",ze,[a("div",Le,[o[4]||(o[4]=a("p",{class:"text-xs text-muted-foreground font-medium"},"분류 (Division)",-1)),a("div",Ue,[l(e(j),{modelValue:e(b),"onUpdate:modelValue":o[0]||(o[0]=t=>ee(b)?b.value=t:null),placeholder:"이름 입력",class:"h-8 text-sm",onKeyup:E(e(C),["enter"])},null,8,["modelValue","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(S)||!e(b).trim(),onClick:e(C)},{default:v(()=>[...o[3]||(o[3]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",Me,[(n(!0),u(M,null,A(e(f),t=>(n(),u("div",{key:t.id,class:se(["px-3 py-2 border rounded-md cursor-pointer text-sm transition-colors",{"border-primary bg-primary/10 font-medium":e(c)===t.id,"border-border hover:bg-muted/50":e(c)!==t.id}]),onClick:y=>e(I)(t.id)},$(t.name),11,Ae))),128)),e(f).length===0?(n(),u("p",Be," 항목 없음 ")):Z("",!0)])]),a("div",Fe,[o[6]||(o[6]=a("p",{class:"text-xs text-muted-foreground font-medium"},"공종 (WorkType)",-1)),a("div",Ke,[l(e(j),{modelValue:e(i),"onUpdate:modelValue":o[1]||(o[1]=t=>ee(i)?i.value=t:null),placeholder:"이름 입력",class:"h-8 text-sm",disabled:!e(c),onKeyup:E(e(z),["enter"])},null,8,["modelValue","disabled","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(S)||!e(i).trim()||!e(c),onClick:e(z)},{default:v(()=>[...o[5]||(o[5]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",Ze,[(n(!0),u(M,null,A(e(g),t=>(n(),u("div",{key:t.id,class:se(["px-3 py-2 border rounded-md cursor-pointer text-sm transition-colors",{"border-primary bg-primary/10 font-medium":e(k)===t.id,"border-border hover:bg-muted/50":e(k)!==t.id}]),onClick:y=>e(x)(t.id)},$(t.name),11,qe))),128)),e(c)&&e(g).length===0?(n(),u("p",Pe," 항목 없음 ")):Z("",!0),e(c)?Z("",!0):(n(),u("p",Oe," 분류를 선택하세요 "))])]),a("div",Re,[o[8]||(o[8]=a("p",{class:"text-xs text-muted-foreground font-medium"},"세부공종 (SubWorkType)",-1)),a("div",Ee,[l(e(j),{modelValue:e(r),"onUpdate:modelValue":o[2]||(o[2]=t=>ee(r)?r.value=t:null),placeholder:"이름 입력",class:"h-8 text-sm",disabled:!e(k),onKeyup:E(e(L),["enter"])},null,8,["modelValue","disabled","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(S)||!e(r).trim()||!e(k),onClick:e(L)},{default:v(()=>[...o[7]||(o[7]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",je,[(n(!0),u(M,null,A(e(_),t=>(n(),u("div",{key:t.id,class:"px-3 py-2 border rounded-md text-sm border-border"},$(t.name),1))),128)),e(k)&&e(_).length===0?(n(),u("p",He," 항목 없음 ")):Z("",!0),e(k)?Z("",!0):(n(),u("p",Je," 공종을 선택하세요 "))])])])]))}});function Qe(){const W=p([]),f=p([]),g=p([]),_=p([]),c=p(""),k=p(""),b=p(""),i=p(""),r=p({zone:!1,floor:!1,section:!1,usage:!1}),S=async()=>{try{W.value=await h.getZoneList()}catch(t){console.error("Zone 목록 로드 실패:",t)}},D=async()=>{try{f.value=await h.getFloorList()}catch(t){console.error("Floor 목록 로드 실패:",t)}},I=async()=>{try{g.value=await h.getSectionList()}catch(t){console.error("Section 목록 로드 실패:",t)}},x=async()=>{try{_.value=await h.getUsageList()}catch(t){console.error("Usage 목록 로드 실패:",t)}};return{zones:W,floors:f,sections:g,usages:_,newZone:c,newFloor:k,newSection:b,newUsage:i,isCreating:r,loadAll:async()=>{await Promise.all([S(),D(),I(),x()])},addZone:async()=>{if(r.value.zone)return;const t=c.value.trim();if(t){r.value.zone=!0;try{await h.createZone(t),c.value="",await S()}catch(y){console.error("Zone 추가 실패:",y);const V=y;alert(V.response?.data?.message||V.message)}finally{r.value.zone=!1}}},addFloor:async()=>{if(r.value.floor)return;const t=k.value.trim();if(t){r.value.floor=!0;try{await h.createFloor(t),k.value="",await D()}catch(y){console.error("Floor 추가 실패:",y);const V=y;alert(V.response?.data?.message||V.message)}finally{r.value.floor=!1}}},addSection:async()=>{if(r.value.section)return;const t=b.value.trim();if(t){r.value.section=!0;try{await h.createSection(t),b.value="",await I()}catch(y){console.error("Section 추가 실패:",y);const V=y;alert(V.response?.data?.message||V.message)}finally{r.value.section=!1}}},addUsage:async()=>{if(r.value.usage)return;const t=i.value.trim();if(t){r.value.usage=!0;try{await h.createUsage(t),i.value="",await x()}catch(y){console.error("Usage 추가 실패:",y);const V=y;alert(V.response?.data?.message||V.message)}finally{r.value.usage=!1}}}}}const Xe={class:"grid grid-cols-4 gap-4"},Ye={class:"text-xs text-muted-foreground font-medium"},et={class:"flex gap-1"},tt={class:"space-y-1 max-h-48 overflow-y-auto"},ot={key:0,class:"text-xs text-muted-foreground py-2 text-center"},st=O({__name:"LocationMasterArea",setup(W){const{zones:f,floors:g,sections:_,usages:c,newZone:k,newFloor:b,newSection:i,newUsage:r,isCreating:S,loadAll:D,addZone:I,addFloor:x,addSection:C,addUsage:z}=Qe();ne(()=>{D()});const L=[{label:"Zone",items:f,input:k,creating:"zone",add:I},{label:"Floor",items:g,input:b,creating:"floor",add:x},{label:"Section",items:_,input:i,creating:"section",add:C},{label:"Usage",items:c,input:r,creating:"usage",add:z}];return(F,o)=>(n(),u("div",null,[o[1]||(o[1]=a("h3",{class:"text-sm font-semibold mb-3"},"위치분류",-1)),a("div",Xe,[(n(),u(M,null,A(L,t=>a("div",{key:t.label,class:"space-y-2"},[a("p",Ye,$(t.label),1),a("div",et,[l(e(j),{modelValue:t.input.value,"onUpdate:modelValue":y=>t.input.value=y,placeholder:"이름 입력",class:"h-8 text-sm",onKeyup:E(t.add,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(S)[t.creating]||!t.input.value.trim(),onClick:t.add},{default:v(()=>[...o[0]||(o[0]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",tt,[(n(!0),u(M,null,A(t.items.value,y=>(n(),u("div",{key:y.id,class:"px-3 py-2 border border-border rounded-md text-sm"},$(y.name),1))),128)),t.items.value.length===0?(n(),u("p",ot," 항목 없음 ")):Z("",!0)])])),64))])]))}});function at(){const W=p([]),f=p(""),g=p(!1),_=p([]),c=p(null),k=p(""),b=p(!1),i=p([]),r=p(null),S=p(!1),D=p([]),I=p([]),x=p([]),C=p({divisionId:"",workTypeId:"",subWorkTypeId:""}),z=p(!1),L=p(!1),F=async()=>{try{W.value=await h.getComponentTypeList()}catch(d){console.error("ComponentType 목록 로드 실패:",d)}},o=async()=>{if(g.value)return;const d=f.value.trim();if(d){g.value=!0;try{await h.createComponentType(d),f.value="",await F()}catch(T){console.error("ComponentType 추가 실패:",T);const w=T;alert(w.response?.data?.message||w.message)}finally{g.value=!1}}},t=async d=>{try{_.value=await h.getComponentCodeList(d)}catch(T){console.error("ComponentCode 목록 로드 실패:",T),_.value=[]}},y=async()=>{if(b.value||c.value==null)return;const d=k.value.trim();if(d){b.value=!0;try{await h.createComponentCode(c.value,d),k.value="",await t(c.value)}catch(T){console.error("ComponentCode 추가 실패:",T);const w=T;alert(w.response?.data?.message||w.message)}finally{b.value=!1}}},V=async()=>{try{i.value=await h.getComponentCodeMappingList()}catch(d){console.error("전체 매핑 로드 실패:",d),i.value=[]}},te=K(()=>{let d=i.value;if(c.value!=null&&_.value.length>0){const w=_.value.map(U=>U.id);d=d.filter(U=>w.includes(U.componentCodeId))}r.value!=null&&r.value>0&&(d=d.filter(w=>w.componentCodeId===r.value));const T=C.value.subWorkTypeId;return T&&T!=="0"&&(d=d.filter(w=>w.subWorkTypeId===Number(T))),d}),ae=async()=>{try{D.value=await h.getDivisionList()}catch(d){console.error("Division 목록 로드 실패:",d)}},R=async()=>{if(S.value||r.value==null)return;const d=r.value===0,T=C.value.subWorkTypeId==="0";if(!(d&&c.value==null)&&!(T&&!C.value.workTypeId)&&!(!T&&!C.value.subWorkTypeId)){S.value=!0;try{const w={};d?w.componentTypeId=c.value:w.componentCodeId=r.value,T?w.workTypeId=Number(C.value.workTypeId):w.subWorkTypeId=Number(C.value.subWorkTypeId);const U=await h.createComponentCodeMapping(w),H=[];U.mappedCount>0&&H.push(`${U.mappedCount}개 매핑 생성`),U.skippedCount>0&&H.push(`${U.skippedCount}개 스킵(중복)`),alert(H.join(", ")||"매핑 완료"),await V()}catch(w){console.error("매핑 추가 실패:",w);const U=w;alert(U.response?.data?.message||U.message)}finally{S.value=!1}}};return Y(c,d=>{d!=null?t(d):_.value=[],r.value=null}),Y(()=>C.value.divisionId,async d=>{if(I.value=[],x.value=[],C.value.workTypeId="",C.value.subWorkTypeId="",!!d){z.value=!0;try{I.value=await h.getWorkTypeList(Number(d))}catch(T){console.error("WorkType 목록 로드 실패:",T)}finally{z.value=!1}}}),Y(()=>C.value.workTypeId,async d=>{if(x.value=[],C.value.subWorkTypeId="",!!d){L.value=!0;try{x.value=await h.getSubWorkTypeList(Number(d))}catch(T){console.error("SubWorkType 목록 로드 실패:",T)}finally{L.value=!1}}}),{componentTypes:W,newComponentTypeName:f,isCreatingType:g,loadComponentTypes:F,addComponentType:o,componentCodes:_,selectedComponentTypeId:c,newComponentCode:k,isCreatingCode:b,addComponentCode:y,allMappings:i,filteredMappings:te,selectedComponentCodeId:r,isCreatingMapping:S,divisions:D,workTypes:I,subWorkTypes:x,mappingForm:C,isLoadingWorkTypes:z,isLoadingSubWorkTypes:L,loadDivisions:ae,loadAllMappings:V,addMapping:R}}const rt={class:"space-y-6"},nt={class:"grid grid-cols-2 gap-4"},lt={class:"space-y-2"},it={class:"flex gap-1"},dt={class:"space-y-1 max-h-48 overflow-y-auto"},ut=["onClick"],ct={key:0,class:"text-xs text-muted-foreground py-2 text-center"},pt={class:"space-y-2"},mt={class:"flex gap-1"},vt={class:"space-y-1 max-h-48 overflow-y-auto"},yt=["onClick"],ft={key:0,class:"text-xs text-muted-foreground py-2 text-center"},gt={key:1,class:"text-xs text-muted-foreground py-2 text-center"},_t={class:"grid grid-cols-2 gap-2 mb-3"},kt={class:"grid grid-cols-4 gap-2 mb-3"},bt={key:0,class:"border rounded-md"},xt={class:"flex items-center justify-between px-3 py-2 hover:bg-muted/50 transition-colors"},ht={class:"border-t"},Ct={key:0,class:"w-full text-sm"},Tt={class:"divide-y"},wt={class:"px-3 py-2"},Wt={class:"px-3 py-2"},St={class:"px-3 py-2"},$t={class:"px-3 py-2"},It={key:1,class:"text-xs text-muted-foreground py-4 text-center"},Vt={key:1,class:"text-xs text-muted-foreground py-2 text-center"},Dt=O({__name:"ComponentCodeArea",setup(W){const{componentTypes:f,newComponentTypeName:g,isCreatingType:_,loadComponentTypes:c,addComponentType:k,componentCodes:b,selectedComponentTypeId:i,newComponentCode:r,isCreatingCode:S,addComponentCode:D,filteredMappings:I,selectedComponentCodeId:x,isCreatingMapping:C,divisions:z,workTypes:L,subWorkTypes:F,mappingForm:o,isLoadingWorkTypes:t,isLoadingSubWorkTypes:y,loadDivisions:V,loadAllMappings:te,addMapping:ae}=at(),R=p(!0);ne(()=>{c(),V(),te()});function d(oe){i.value=oe,x.value=null}function T(oe){x.value=oe}const w=K(()=>i.value!=null?String(i.value):""),U=K(()=>x.value!=null?String(x.value):""),H=K(()=>x.value===0),de=K(()=>o.value.subWorkTypeId==="0"),ue=K(()=>H.value||de.value);function ce(){te()}return(oe,m)=>(n(),u("div",rt,[a("div",null,[m[12]||(m[12]=a("h3",{class:"text-sm font-semibold mb-3"},"부재분류",-1)),a("div",nt,[a("div",lt,[m[9]||(m[9]=a("p",{class:"text-xs text-muted-foreground font-medium"},"부재 타입 (ComponentType)",-1)),a("div",it,[l(e(j),{modelValue:e(g),"onUpdate:modelValue":m[0]||(m[0]=s=>ee(g)?g.value=s:null),placeholder:"이름 입력",class:"h-8 text-sm",onKeyup:E(e(k),["enter"])},null,8,["modelValue","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(_)||!e(g).trim(),onClick:e(k)},{default:v(()=>[...m[8]||(m[8]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",dt,[(n(!0),u(M,null,A(e(f),s=>(n(),u("div",{key:s.id,class:se(["px-3 py-2 border rounded-md cursor-pointer text-sm transition-colors",{"border-primary bg-primary/10 font-medium":e(i)===s.id,"border-border hover:bg-muted/50":e(i)!==s.id}]),onClick:pe=>d(s.id)},$(s.name),11,ut))),128)),e(f).length===0?(n(),u("p",ct," 항목 없음 ")):Z("",!0)])]),a("div",pt,[m[11]||(m[11]=a("p",{class:"text-xs text-muted-foreground font-medium"},"부재 코드 (ComponentCode)",-1)),a("div",mt,[l(e(j),{modelValue:e(r),"onUpdate:modelValue":m[1]||(m[1]=s=>ee(r)?r.value=s:null),placeholder:"코드 입력",class:"h-8 text-sm",disabled:e(i)==null,onKeyup:E(e(D),["enter"])},null,8,["modelValue","disabled","onKeyup"]),l(e(P),{size:"sm",class:"h-8 shrink-0",disabled:e(S)||!e(r).trim()||e(i)==null,onClick:e(D)},{default:v(()=>[...m[10]||(m[10]=[N(" 추가 ",-1)])]),_:1},8,["disabled","onClick"])]),a("div",vt,[(n(!0),u(M,null,A(e(b),s=>(n(),u("div",{key:s.id,class:se(["px-3 py-2 border rounded-md cursor-pointer text-sm transition-colors",{"border-primary bg-primary/10 font-medium":e(x)===s.id,"border-border hover:bg-muted/50":e(x)!==s.id}]),onClick:pe=>T(s.id)},$(s.code),11,yt))),128)),e(i)!=null&&e(b).length===0?(n(),u("p",ft," 항목 없음 ")):Z("",!0),e(i)==null?(n(),u("p",gt," 부재 타입을 선택하세요 ")):Z("",!0)])])])]),l(e(re)),a("div",null,[m[16]||(m[16]=a("h3",{class:"text-sm font-semibold mb-3"},"부재코드-세부공종 연결",-1)),a("div",_t,[l(e(J),{"model-value":w.value,"onUpdate:modelValue":m[2]||(m[2]=s=>s&&d(Number(s)))},{default:v(()=>[l(e(G),{class:"h-8 text-sm"},{default:v(()=>[l(e(Q),{placeholder:"부재타입 선택"})]),_:1}),l(e(X),null,{default:v(()=>[(n(!0),u(M,null,A(e(f),s=>(n(),B(e(q),{key:s.id,value:String(s.id)},{default:v(()=>[N($(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),l(e(J),{"model-value":U.value,disabled:e(i)==null,"onUpdate:modelValue":m[3]||(m[3]=s=>s&&T(Number(s)))},{default:v(()=>[l(e(G),{class:"h-8 text-sm"},{default:v(()=>[l(e(Q),{placeholder:"부재코드 선택"})]),_:1}),l(e(X),null,{default:v(()=>[l(e(q),{value:"0",class:"font-medium text-primary"},{default:v(()=>[...m[13]||(m[13]=[N(" 모든코드 ",-1)])]),_:1}),(n(!0),u(M,null,A(e(b),s=>(n(),B(e(q),{key:s.id,value:String(s.id)},{default:v(()=>[N($(s.code),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"])]),a("div",kt,[l(e(J),{modelValue:e(o).divisionId,"onUpdate:modelValue":m[4]||(m[4]=s=>e(o).divisionId=s),disabled:e(x)==null},{default:v(()=>[l(e(G),{class:"h-8 text-sm"},{default:v(()=>[l(e(Q),{placeholder:"분류"})]),_:1}),l(e(X),null,{default:v(()=>[(n(!0),u(M,null,A(e(z),s=>(n(),B(e(q),{key:s.id,value:String(s.id)},{default:v(()=>[N($(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),l(e(J),{modelValue:e(o).workTypeId,"onUpdate:modelValue":m[5]||(m[5]=s=>e(o).workTypeId=s),disabled:!e(o).divisionId||e(t)},{default:v(()=>[l(e(G),{class:"h-8 text-sm"},{default:v(()=>[l(e(Q),{placeholder:e(t)?"로딩...":"공종"},null,8,["placeholder"])]),_:1}),l(e(X),null,{default:v(()=>[(n(!0),u(M,null,A(e(L),s=>(n(),B(e(q),{key:s.id,value:String(s.id)},{default:v(()=>[N($(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),l(e(J),{modelValue:e(o).subWorkTypeId,"onUpdate:modelValue":m[6]||(m[6]=s=>e(o).subWorkTypeId=s),disabled:!e(o).workTypeId||e(y)},{default:v(()=>[l(e(G),{class:"h-8 text-sm"},{default:v(()=>[l(e(Q),{placeholder:e(y)?"로딩...":"세부공종"},null,8,["placeholder"])]),_:1}),l(e(X),null,{default:v(()=>[l(e(q),{value:"0",class:"font-medium text-primary"},{default:v(()=>[...m[14]||(m[14]=[N(" 모든세부공종 ",-1)])]),_:1}),(n(!0),u(M,null,A(e(F),s=>(n(),B(e(q),{key:s.id,value:String(s.id)},{default:v(()=>[N($(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),l(e(P),{size:"sm",class:"h-8",disabled:e(C)||e(x)==null||!e(o).subWorkTypeId&&!e(o).workTypeId,onClick:e(ae)},{default:v(()=>[N($(ue.value?"일괄 연결":"연결 추가"),1)]),_:1},8,["disabled","onClick"])]),e(x)!=null?(n(),u("div",bt,[a("div",xt,[a("button",{class:"flex items-center gap-2 text-sm font-medium",onClick:m[7]||(m[7]=s=>R.value=!R.value)},[(n(),B(be(R.value?e(Te):e(we)),{class:"h-4 w-4"})),a("span",null,"매핑 목록 ("+$(e(I).length)+")",1)]),a("button",{class:"p-1 rounded hover:bg-muted",title:"새로고침",onClick:xe(ce,["stop"])},[l(e(De),{class:"h-4 w-4"})])]),ke(a("div",ht,[e(I).length>0?(n(),u("table",Ct,[m[15]||(m[15]=a("thead",{class:"bg-muted/50"},[a("tr",null,[a("th",{class:"px-3 py-2 text-left font-medium"},"부재코드"),a("th",{class:"px-3 py-2 text-left font-medium"},"분류"),a("th",{class:"px-3 py-2 text-left font-medium"},"공종"),a("th",{class:"px-3 py-2 text-left font-medium"},"세부공종")])],-1)),a("tbody",Tt,[(n(!0),u(M,null,A(e(I),s=>(n(),u("tr",{key:`${s.componentCodeId}-${s.subWorkTypeId}`,class:"hover:bg-muted/30"},[a("td",wt,$(s.componentCode),1),a("td",Wt,$(s.divisionName),1),a("td",St,$(s.workTypeName),1),a("td",$t,$(s.subWorkTypeName),1)]))),128))])])):(n(),u("p",It," 연결된 세부공종이 없습니다 "))],512),[[he,R.value]])])):(n(),u("p",Vt," 부재코드를 선택하세요 "))])]))}}),Nt={class:"p-4 space-y-6"},jt=O({__name:"AdminPage",setup(W){return(f,g)=>(n(),B(me,{title:"기준정보 관리"},{default:v(()=>[l(ve,{title:"작업관련",height:"flex-1","min-height":"600px"},{default:v(()=>[a("div",Nt,[l(Ge),l(e(re)),l(st),l(e(re)),l(Dt)])]),_:1})]),_:1}))}});export{jt as default};
